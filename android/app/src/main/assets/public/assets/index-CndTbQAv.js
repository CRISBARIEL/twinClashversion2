(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Vc={exports:{}},zi={},qc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),up=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),vp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),lu=Symbol.iterator;function wp(t){return t===null||typeof t!="object"?null:(t=lu&&t[lu]||t["@@iterator"],typeof t=="function"?t:null)}var Hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,Gc={};function kr(t,e,n){this.props=t,this.context=e,this.refs=Gc,this.updater=n||Hc}kr.prototype.isReactComponent={};kr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jc(){}Jc.prototype=kr.prototype;function Xl(t,e,n){this.props=t,this.context=e,this.refs=Gc,this.updater=n||Hc}var Zl=Xl.prototype=new Jc;Zl.constructor=Xl;Kc(Zl,kr.prototype);Zl.isPureReactComponent=!0;var au=Array.isArray,Qc=Object.prototype.hasOwnProperty,ea={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function Xc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qc.call(e,r)&&!Yc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ws,type:t,key:i,ref:o,props:s,_owner:ea.current}}function xp(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ta(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function _p(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uu=/\/+/g;function lo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_p(""+t.key):e.toString(36)}function Zs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ws:case up:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lo(o,0):r,au(s)?(n="",t!=null&&(n=t.replace(uu,"$&/")+"/"),Zs(s,e,n,"",function(c){return c})):s!=null&&(ta(s)&&(s=xp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(uu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",au(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+lo(i,l);o+=Zs(i,e,n,a,s)}else if(a=wp(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+lo(i,l++),o+=Zs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(t,e,n){if(t==null)return t;var r=[],s=0;return Zs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},ei={transition:null},Sp={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ei,ReactCurrentOwner:ea};function Zc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ls,forEach:function(t,e,n){Ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ls(t,function(){e++}),e},toArray:function(t){return Ls(t,function(e){return e})||[]},only:function(t){if(!ta(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=kr;M.Fragment=cp;M.Profiler=hp;M.PureComponent=Xl;M.StrictMode=dp;M.Suspense=gp;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;M.act=Zc;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ea.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Qc.call(e,a)&&!Yc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ws,type:t.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(t){return t={$$typeof:pp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fp,_context:t},t.Consumer=t};M.createElement=Xc;M.createFactory=function(t){var e=Xc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:mp,render:t}};M.isValidElement=ta;M.lazy=function(t){return{$$typeof:yp,_payload:{_status:-1,_result:t},_init:kp}};M.memo=function(t,e){return{$$typeof:vp,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=ei.transition;ei.transition={};try{t()}finally{ei.transition=e}};M.unstable_act=Zc;M.useCallback=function(t,e){return Me.current.useCallback(t,e)};M.useContext=function(t){return Me.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};M.useEffect=function(t,e){return Me.current.useEffect(t,e)};M.useId=function(){return Me.current.useId()};M.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Me.current.useMemo(t,e)};M.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};M.useRef=function(t){return Me.current.useRef(t)};M.useState=function(t){return Me.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return Me.current.useTransition()};M.version="18.3.1";qc.exports=M;var x=qc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=x,jp=Symbol.for("react.element"),Ep=Symbol.for("react.fragment"),Cp=Object.prototype.hasOwnProperty,Np=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tp={key:!0,ref:!0,__self:!0,__source:!0};function ed(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cp.call(e,r)&&!Tp.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jp,type:t,key:i,ref:o,props:s,_owner:Np.current}}zi.Fragment=Ep;zi.jsx=ed;zi.jsxs=ed;Vc.exports=zi;var u=Vc.exports,td={exports:{}},Xe={},nd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,P){var L=C.length;C.push(P);e:for(;0<L;){var U=L-1>>>1,ee=C[U];if(0<s(ee,P))C[U]=P,C[L]=ee,L=U;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],L=C.pop();if(L!==P){C[0]=L;e:for(var U=0,ee=C.length,He=ee>>>1;U<He;){var et=2*(U+1)-1,_t=C[et],ut=et+1,Pt=C[ut];if(0>s(_t,L))ut<ee&&0>s(Pt,_t)?(C[U]=Pt,C[ut]=L,U=ut):(C[U]=_t,C[et]=L,U=et);else if(ut<ee&&0>s(Pt,L))C[U]=Pt,C[ut]=L,U=ut;else break e}}return P}function s(C,P){var L=C.sortIndex-P.sortIndex;return L!==0?L:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,m=3,v=!1,y=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=C)r(c),P.sortIndex=P.expirationTime,e(a,P);else break;P=n(c)}}function _(C){if(w=!1,g(C),!y)if(n(a)!==null)y=!0,Ie(E);else{var P=n(c);P!==null&&Ce(_,P.startTime-C)}}function E(C,P){y=!1,w&&(w=!1,f(N),N=-1),v=!0;var L=m;try{for(g(P),h=n(a);h!==null&&(!(h.expirationTime>P)||C&&!ye());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var ee=U(h.expirationTime<=P);P=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(a)&&r(a),g(P)}else r(a);h=n(a)}if(h!==null)var He=!0;else{var et=n(c);et!==null&&Ce(_,et.startTime-P),He=!1}return He}finally{h=null,m=L,v=!1}}var b=!1,S=null,N=-1,I=5,R=-1;function ye(){return!(t.unstable_now()-R<I)}function Nt(){if(S!==null){var C=t.unstable_now();R=C;var P=!0;try{P=S(!0,C)}finally{P?xt():(b=!1,S=null)}}else b=!1}var xt;if(typeof p=="function")xt=function(){p(Nt)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Tt=ae.port2;ae.port1.onmessage=Nt,xt=function(){Tt.postMessage(null)}}else xt=function(){k(Nt,0)};function Ie(C){S=C,b||(b=!0,xt())}function Ce(C,P){N=k(function(){C(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Ie(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var L=m;m=P;try{return C()}finally{m=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=m;m=C;try{return P()}finally{m=L}},t.unstable_scheduleCallback=function(C,P,L){var U=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=L+ee,C={id:d++,callback:P,priorityLevel:C,startTime:L,expirationTime:ee,sortIndex:-1},L>U?(C.sortIndex=L,e(c,C),n(a)===null&&C===n(c)&&(w?(f(N),N=-1):w=!0,Ce(_,L-U))):(C.sortIndex=ee,e(a,C),y||v||(y=!0,Ie(E))),C},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(C){var P=m;return function(){var L=m;m=P;try{return C.apply(this,arguments)}finally{m=L}}}})(rd);nd.exports=rd;var Pp=nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=x,Ye=Pp;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,ts={};function Mn(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(ts[t]=e,t=0;t<e.length;t++)sd.add(e[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cu={},du={};function Ip(t){return qo.call(du,t)?!0:qo.call(cu,t)?!1:Lp.test(t)?du[t]=!0:(cu[t]=!0,!1)}function Op(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $p(t,e,n,r){if(e===null||typeof e>"u"||Op(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var na=/[\-:]([a-z])/g;function ra(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(na,ra);Ee[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(na,ra);Ee[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(na,ra);Ee[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function sa(t,e,n,r){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($p(e,n,s,r)&&(n=null),r||s===null?Ip(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qt=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Is=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),ia=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),od=Symbol.for("react.context"),oa=Symbol.for("react.forward_ref"),Ko=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),la=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),ld=Symbol.for("react.offscreen"),hu=Symbol.iterator;function Tr(t){return t===null||typeof t!="object"?null:(t=hu&&t[hu]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,ao;function zr(t){if(ao===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ao=e&&e[1]||""}return`
`+ao+t}var uo=!1;function co(t,e){if(!t||uo)return"";uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{uo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zr(t):""}function Ap(t){switch(t.tag){case 5:return zr(t.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return t=co(t.type,!1),t;case 11:return t=co(t.type.render,!1),t;case 1:return t=co(t.type,!0),t;default:return""}}function Jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Jn:return"Portal";case Ho:return"Profiler";case ia:return"StrictMode";case Ko:return"Suspense";case Go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case od:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case oa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case la:return e=t.displayName||null,e!==null?e:Jo(t.type)||"Memo";case Qt:e=t._payload,t=t._init;try{return Jo(t(e))}catch{}}return null}function Mp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jo(e);case 8:return e===ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ad(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zp(t){var e=ad(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Os(t){t._valueTracker||(t._valueTracker=zp(t))}function ud(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ad(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qo(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cd(t,e){e=e.checked,e!=null&&sa(t,"checked",e,!1)}function Yo(t,e){cd(t,e);var n=fn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xo(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xo(t,e,n){(e!=="number"||di(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ur=Array.isArray;function lr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Ur(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fn(n)}}function dd(t,e){var n=fn(e.value),r=fn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,fd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(t){Up.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wr[e]=Wr[t]})});function pd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wr.hasOwnProperty(t)&&Wr[t]?(""+e).trim():e+"px"}function md(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Dp=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(t,e){if(e){if(Dp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function nl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sl=null,ar=null,ur=null;function vu(t){if(t=ks(t)){if(typeof sl!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Wi(e),sl(t.stateNode,t.type,e))}}function gd(t){ar?ur?ur.push(t):ur=[t]:ar=t}function vd(){if(ar){var t=ar,e=ur;if(ur=ar=null,vu(t),e)for(t=0;t<e.length;t++)vu(e[t])}}function yd(t,e){return t(e)}function wd(){}var ho=!1;function xd(t,e,n){if(ho)return t(e,n);ho=!0;try{return yd(t,e,n)}finally{ho=!1,(ar!==null||ur!==null)&&(wd(),vd())}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Wi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var il=!1;if(Ft)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){il=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{il=!1}function Fp(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Vr=!1,hi=null,fi=!1,ol=null,Bp={onError:function(t){Vr=!0,hi=t}};function Wp(t,e,n,r,s,i,o,l,a){Vr=!1,hi=null,Fp.apply(Bp,arguments)}function Vp(t,e,n,r,s,i,o,l,a){if(Wp.apply(this,arguments),Vr){if(Vr){var c=hi;Vr=!1,hi=null}else throw Error(j(198));fi||(fi=!0,ol=c)}}function zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yu(t){if(zn(t)!==t)throw Error(j(188))}function qp(t){var e=t.alternate;if(!e){if(e=zn(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yu(s),t;if(i===r)return yu(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function kd(t){return t=qp(t),t!==null?Sd(t):null}function Sd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sd(t);if(e!==null)return e;t=t.sibling}return null}var bd=Ye.unstable_scheduleCallback,wu=Ye.unstable_cancelCallback,Hp=Ye.unstable_shouldYield,Kp=Ye.unstable_requestPaint,le=Ye.unstable_now,Gp=Ye.unstable_getCurrentPriorityLevel,ua=Ye.unstable_ImmediatePriority,jd=Ye.unstable_UserBlockingPriority,pi=Ye.unstable_NormalPriority,Jp=Ye.unstable_LowPriority,Ed=Ye.unstable_IdlePriority,Ui=null,Et=null;function Qp(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Zp,Yp=Math.log,Xp=Math.LN2;function Zp(t){return t>>>=0,t===0?32:31-(Yp(t)/Xp|0)|0}var As=64,Ms=4194304;function Dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Dr(l):(i&=o,i!==0&&(r=Dr(i)))}else o=n&~s,o!==0?r=Dr(o):i!==0&&(r=Dr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gt(e),s=1<<n,r|=t[n],e&=~s;return r}function em(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=em(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ll(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cd(){var t=As;return As<<=1,!(As&4194240)&&(As=64),t}function fo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gt(e),t[e]=n}function nm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ca(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function Nd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Td,da,Pd,Rd,Ld,al=!1,zs=[],sn=null,on=null,ln=null,ss=new Map,is=new Map,Xt=[],rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(e.pointerId)}}function Rr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ks(e),e!==null&&da(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function sm(t,e,n,r,s){switch(e){case"focusin":return sn=Rr(sn,t,e,n,r,s),!0;case"dragenter":return on=Rr(on,t,e,n,r,s),!0;case"mouseover":return ln=Rr(ln,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ss.set(i,Rr(ss.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,is.set(i,Rr(is.get(i)||null,t,e,n,r,s)),!0}return!1}function Id(t){var e=En(t.target);if(e!==null){var n=zn(e);if(n!==null){if(e=n.tag,e===13){if(e=_d(n),e!==null){t.blockedOn=e,Ld(t.priority,function(){Pd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ti(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ul(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rl=r,n.target.dispatchEvent(r),rl=null}else return e=ks(n),e!==null&&da(e),t.blockedOn=n,!1;e.shift()}return!0}function _u(t,e,n){ti(t)&&n.delete(e)}function im(){al=!1,sn!==null&&ti(sn)&&(sn=null),on!==null&&ti(on)&&(on=null),ln!==null&&ti(ln)&&(ln=null),ss.forEach(_u),is.forEach(_u)}function Lr(t,e){t.blockedOn===e&&(t.blockedOn=null,al||(al=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,im)))}function os(t){function e(s){return Lr(s,t)}if(0<zs.length){Lr(zs[0],t);for(var n=1;n<zs.length;n++){var r=zs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sn!==null&&Lr(sn,t),on!==null&&Lr(on,t),ln!==null&&Lr(ln,t),ss.forEach(e),is.forEach(e),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Id(n),n.blockedOn===null&&Xt.shift()}var cr=qt.ReactCurrentBatchConfig,gi=!0;function om(t,e,n,r){var s=q,i=cr.transition;cr.transition=null;try{q=1,ha(t,e,n,r)}finally{q=s,cr.transition=i}}function lm(t,e,n,r){var s=q,i=cr.transition;cr.transition=null;try{q=4,ha(t,e,n,r)}finally{q=s,cr.transition=i}}function ha(t,e,n,r){if(gi){var s=ul(t,e,n,r);if(s===null)So(t,e,r,vi,n),xu(t,r);else if(sm(s,t,e,n,r))r.stopPropagation();else if(xu(t,r),e&4&&-1<rm.indexOf(t)){for(;s!==null;){var i=ks(s);if(i!==null&&Td(i),i=ul(t,e,n,r),i===null&&So(t,e,r,vi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else So(t,e,r,null,n)}}var vi=null;function ul(t,e,n,r){if(vi=null,t=aa(r),t=En(t),t!==null)if(e=zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_d(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vi=t,null}function Od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gp()){case ua:return 1;case jd:return 4;case pi:case Jp:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var tn=null,fa=null,ni=null;function $d(){if(ni)return ni;var t,e=fa,n=e.length,r,s="value"in tn?tn.value:tn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ni=s.slice(t,1<r?1-r:void 0)}function ri(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function ku(){return!1}function Ze(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:ku,this.isPropagationStopped=ku,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Ze(Sr),_s=se({},Sr,{view:0,detail:0}),am=Ze(_s),po,mo,Ir,Di=se({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(po=t.screenX-Ir.screenX,mo=t.screenY-Ir.screenY):mo=po=0,Ir=t),po)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),Su=Ze(Di),um=se({},Di,{dataTransfer:0}),cm=Ze(um),dm=se({},_s,{relatedTarget:0}),go=Ze(dm),hm=se({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Ze(hm),pm=se({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mm=Ze(pm),gm=se({},Sr,{data:0}),bu=Ze(gm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wm[t])?!!e[t]:!1}function ma(){return xm}var _m=se({},_s,{key:function(t){if(t.key){var e=vm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ym[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),km=Ze(_m),Sm=se({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Ze(Sm),bm=se({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),jm=Ze(bm),Em=se({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=Ze(Em),Nm=se({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tm=Ze(Nm),Pm=[9,13,27,32],ga=Ft&&"CompositionEvent"in window,qr=null;Ft&&"documentMode"in document&&(qr=document.documentMode);var Rm=Ft&&"TextEvent"in window&&!qr,Ad=Ft&&(!ga||qr&&8<qr&&11>=qr),Eu=" ",Cu=!1;function Md(t,e){switch(t){case"keyup":return Pm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yn=!1;function Lm(t,e){switch(t){case"compositionend":return zd(e);case"keypress":return e.which!==32?null:(Cu=!0,Eu);case"textInput":return t=e.data,t===Eu&&Cu?null:t;default:return null}}function Im(t,e){if(Yn)return t==="compositionend"||!ga&&Md(t,e)?(t=$d(),ni=fa=tn=null,Yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ad&&e.locale!=="ko"?null:e.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Om[t.type]:e==="textarea"}function Ud(t,e,n,r){gd(r),e=yi(e,"onChange"),0<e.length&&(n=new pa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hr=null,ls=null;function $m(t){Qd(t,0)}function Fi(t){var e=er(t);if(ud(e))return t}function Am(t,e){if(t==="change")return e}var Dd=!1;if(Ft){var vo;if(Ft){var yo="oninput"in document;if(!yo){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),yo=typeof Tu.oninput=="function"}vo=yo}else vo=!1;Dd=vo&&(!document.documentMode||9<document.documentMode)}function Pu(){Hr&&(Hr.detachEvent("onpropertychange",Fd),ls=Hr=null)}function Fd(t){if(t.propertyName==="value"&&Fi(ls)){var e=[];Ud(e,ls,t,aa(t)),xd($m,e)}}function Mm(t,e,n){t==="focusin"?(Pu(),Hr=e,ls=n,Hr.attachEvent("onpropertychange",Fd)):t==="focusout"&&Pu()}function zm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fi(ls)}function Um(t,e){if(t==="click")return Fi(e)}function Dm(t,e){if(t==="input"||t==="change")return Fi(e)}function Fm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:Fm;function as(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qo.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function Ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lu(t,e){var n=Ru(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ru(n)}}function Bd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wd(){for(var t=window,e=di();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=di(t.document)}return e}function va(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bm(t){var e=Wd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(r!==null&&va(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Lu(n,i);var o=Lu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wm=Ft&&"documentMode"in document&&11>=document.documentMode,Xn=null,cl=null,Kr=null,dl=!1;function Iu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dl||Xn==null||Xn!==di(r)||(r=Xn,"selectionStart"in r&&va(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&as(Kr,r)||(Kr=r,r=yi(cl,"onSelect"),0<r.length&&(e=new pa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xn)))}function Ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zn={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},wo={},Vd={};Ft&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Bi(t){if(wo[t])return wo[t];if(!Zn[t])return t;var e=Zn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vd)return wo[t]=e[n];return t}var qd=Bi("animationend"),Hd=Bi("animationiteration"),Kd=Bi("animationstart"),Gd=Bi("transitionend"),Jd=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(t,e){Jd.set(t,e),Mn(e,[t])}for(var xo=0;xo<Ou.length;xo++){var _o=Ou[xo],Vm=_o.toLowerCase(),qm=_o[0].toUpperCase()+_o.slice(1);mn(Vm,"on"+qm)}mn(qd,"onAnimationEnd");mn(Hd,"onAnimationIteration");mn(Kd,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(Gd,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function $u(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Vp(r,e,void 0,t),t.currentTarget=null}function Qd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;$u(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;$u(s,l,c),i=a}}}if(fi)throw t=ol,fi=!1,ol=null,t}function X(t,e){var n=e[gl];n===void 0&&(n=e[gl]=new Set);var r=t+"__bubble";n.has(r)||(Yd(e,t,2,!1),n.add(r))}function ko(t,e,n){var r=0;e&&(r|=4),Yd(n,t,r,e)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function us(t){if(!t[Fs]){t[Fs]=!0,sd.forEach(function(n){n!=="selectionchange"&&(Hm.has(n)||ko(n,!1,t),ko(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fs]||(e[Fs]=!0,ko("selectionchange",!1,e))}}function Yd(t,e,n,r){switch(Od(e)){case 1:var s=om;break;case 4:s=lm;break;default:s=ha}n=s.bind(null,e,n,t),s=void 0,!il||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function So(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}xd(function(){var c=i,d=aa(n),h=[];e:{var m=Jd.get(t);if(m!==void 0){var v=pa,y=t;switch(t){case"keypress":if(ri(n)===0)break e;case"keydown":case"keyup":v=km;break;case"focusin":y="focus",v=go;break;case"focusout":y="blur",v=go;break;case"beforeblur":case"afterblur":v=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jm;break;case qd:case Hd:case Kd:v=fm;break;case Gd:v=Cm;break;case"scroll":v=am;break;case"wheel":v=Tm;break;case"copy":case"cut":case"paste":v=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ju}var w=(e&4)!==0,k=!w&&t==="scroll",f=w?m!==null?m+"Capture":null:m;w=[];for(var p=c,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,f!==null&&(_=rs(p,f),_!=null&&w.push(cs(p,_,g)))),k)break;p=p.return}0<w.length&&(m=new v(m,y,null,n,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==rl&&(y=n.relatedTarget||n.fromElement)&&(En(y)||y[Bt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?En(y):null,y!==null&&(k=zn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Su,_="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=ju,_="onPointerLeave",f="onPointerEnter",p="pointer"),k=v==null?m:er(v),g=y==null?m:er(y),m=new w(_,p+"leave",v,n,d),m.target=k,m.relatedTarget=g,_=null,En(d)===c&&(w=new w(f,p+"enter",y,n,d),w.target=g,w.relatedTarget=k,_=w),k=_,v&&y)t:{for(w=v,f=y,p=0,g=w;g;g=Fn(g))p++;for(g=0,_=f;_;_=Fn(_))g++;for(;0<p-g;)w=Fn(w),p--;for(;0<g-p;)f=Fn(f),g--;for(;p--;){if(w===f||f!==null&&w===f.alternate)break t;w=Fn(w),f=Fn(f)}w=null}else w=null;v!==null&&Au(h,m,v,w,!1),y!==null&&k!==null&&Au(h,k,y,w,!0)}}e:{if(m=c?er(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var E=Am;else if(Nu(m))if(Dd)E=Dm;else{E=zm;var b=Mm}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Um);if(E&&(E=E(t,c))){Ud(h,E,n,d);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Xo(m,"number",m.value)}switch(b=c?er(c):window,t){case"focusin":(Nu(b)||b.contentEditable==="true")&&(Xn=b,cl=c,Kr=null);break;case"focusout":Kr=cl=Xn=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Iu(h,n,d);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":Iu(h,n,d)}var S;if(ga)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Yn?Md(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Ad&&n.locale!=="ko"&&(Yn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Yn&&(S=$d()):(tn=d,fa="value"in tn?tn.value:tn.textContent,Yn=!0)),b=yi(c,N),0<b.length&&(N=new bu(N,t,null,n,d),h.push({event:N,listeners:b}),S?N.data=S:(S=zd(n),S!==null&&(N.data=S)))),(S=Rm?Lm(t,n):Im(t,n))&&(c=yi(c,"onBeforeInput"),0<c.length&&(d=new bu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Qd(h,e)})}function cs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(t,n),i!=null&&r.unshift(cs(t,i,s)),i=rs(t,e),i!=null&&r.push(cs(t,i,s))),t=t.return}return r}function Fn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Au(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=rs(n,i),a!=null&&o.unshift(cs(n,a,l))):s||(a=rs(n,i),a!=null&&o.push(cs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Km=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function Mu(t){return(typeof t=="string"?t:""+t).replace(Km,`
`).replace(Gm,"")}function Bs(t,e,n){if(e=Mu(e),Mu(t)!==e&&n)throw Error(j(425))}function wi(){}var hl=null,fl=null;function pl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(t){return zu.resolve(null).then(t).catch(Ym)}:ml;function Ym(t){setTimeout(function(){throw t})}function bo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),os(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);os(e)}function an(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var br=Math.random().toString(36).slice(2),jt="__reactFiber$"+br,ds="__reactProps$"+br,Bt="__reactContainer$"+br,gl="__reactEvents$"+br,Xm="__reactListeners$"+br,Zm="__reactHandles$"+br;function En(t){var e=t[jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bt]||n[jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uu(t);t!==null;){if(n=t[jt])return n;t=Uu(t)}return e}t=n,n=t.parentNode}return null}function ks(t){return t=t[jt]||t[Bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Wi(t){return t[ds]||null}var vl=[],tr=-1;function gn(t){return{current:t}}function Z(t){0>tr||(t.current=vl[tr],vl[tr]=null,tr--)}function Q(t,e){tr++,vl[tr]=t.current,t.current=e}var pn={},Le=gn(pn),Be=gn(!1),Ln=pn;function pr(t,e){var n=t.type.contextTypes;if(!n)return pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function We(t){return t=t.childContextTypes,t!=null}function xi(){Z(Be),Z(Le)}function Du(t,e,n){if(Le.current!==pn)throw Error(j(168));Q(Le,e),Q(Be,n)}function Xd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,Mp(t)||"Unknown",s));return se({},n,r)}function _i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pn,Ln=Le.current,Q(Le,t),Q(Be,Be.current),!0}function Fu(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Xd(t,e,Ln),r.__reactInternalMemoizedMergedChildContext=t,Z(Be),Z(Le),Q(Le,t)):Z(Be),Q(Be,n)}var At=null,Vi=!1,jo=!1;function Zd(t){At===null?At=[t]:At.push(t)}function e0(t){Vi=!0,Zd(t)}function vn(){if(!jo&&At!==null){jo=!0;var t=0,e=q;try{var n=At;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}At=null,Vi=!1}catch(s){throw At!==null&&(At=At.slice(t+1)),bd(ua,vn),s}finally{q=e,jo=!1}}return null}var nr=[],rr=0,ki=null,Si=0,tt=[],nt=0,In=null,Mt=1,zt="";function kn(t,e){nr[rr++]=Si,nr[rr++]=ki,ki=t,Si=e}function eh(t,e,n){tt[nt++]=Mt,tt[nt++]=zt,tt[nt++]=In,In=t;var r=Mt;t=zt;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mt=1<<32-gt(e)+s|n<<s|r,zt=i+t}else Mt=1<<i|n<<s|r,zt=t}function ya(t){t.return!==null&&(kn(t,1),eh(t,1,0))}function wa(t){for(;t===ki;)ki=nr[--rr],nr[rr]=null,Si=nr[--rr],nr[rr]=null;for(;t===In;)In=tt[--nt],tt[nt]=null,zt=tt[--nt],tt[nt]=null,Mt=tt[--nt],tt[nt]=null}var Qe=null,Je=null,te=!1,mt=null;function th(t,e){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Je=an(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=In!==null?{id:Mt,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qe=t,Je=null,!0):!1;default:return!1}}function yl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wl(t){if(te){var e=Je;if(e){var n=e;if(!Bu(t,e)){if(yl(t))throw Error(j(418));e=an(n.nextSibling);var r=Qe;e&&Bu(t,e)?th(r,n):(t.flags=t.flags&-4097|2,te=!1,Qe=t)}}else{if(yl(t))throw Error(j(418));t.flags=t.flags&-4097|2,te=!1,Qe=t}}}function Wu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function Ws(t){if(t!==Qe)return!1;if(!te)return Wu(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pl(t.type,t.memoizedProps)),e&&(e=Je)){if(yl(t))throw nh(),Error(j(418));for(;e;)th(t,e),e=an(e.nextSibling)}if(Wu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=an(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Qe?an(t.stateNode.nextSibling):null;return!0}function nh(){for(var t=Je;t;)t=an(t.nextSibling)}function mr(){Je=Qe=null,te=!1}function xa(t){mt===null?mt=[t]:mt.push(t)}var t0=qt.ReactCurrentBatchConfig;function Or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Vs(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vu(t){var e=t._init;return e(t._payload)}function rh(t){function e(f,p){if(t){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=hn(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,p,g,_){return p===null||p.tag!==6?(p=Lo(g,f.mode,_),p.return=f,p):(p=s(p,g),p.return=f,p)}function a(f,p,g,_){var E=g.type;return E===Qn?d(f,p,g.props.children,_,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qt&&Vu(E)===p.type)?(_=s(p,g.props),_.ref=Or(f,p,g),_.return=f,_):(_=ci(g.type,g.key,g.props,null,f.mode,_),_.ref=Or(f,p,g),_.return=f,_)}function c(f,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Io(g,f.mode,_),p.return=f,p):(p=s(p,g.children||[]),p.return=f,p)}function d(f,p,g,_,E){return p===null||p.tag!==7?(p=Rn(g,f.mode,_,E),p.return=f,p):(p=s(p,g),p.return=f,p)}function h(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lo(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Is:return g=ci(p.type,p.key,p.props,null,f.mode,g),g.ref=Or(f,null,p),g.return=f,g;case Jn:return p=Io(p,f.mode,g),p.return=f,p;case Qt:var _=p._init;return h(f,_(p._payload),g)}if(Ur(p)||Tr(p))return p=Rn(p,f.mode,g,null),p.return=f,p;Vs(f,p)}return null}function m(f,p,g,_){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(f,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Is:return g.key===E?a(f,p,g,_):null;case Jn:return g.key===E?c(f,p,g,_):null;case Qt:return E=g._init,m(f,p,E(g._payload),_)}if(Ur(g)||Tr(g))return E!==null?null:d(f,p,g,_,null);Vs(f,g)}return null}function v(f,p,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(g)||null,l(p,f,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Is:return f=f.get(_.key===null?g:_.key)||null,a(p,f,_,E);case Jn:return f=f.get(_.key===null?g:_.key)||null,c(p,f,_,E);case Qt:var b=_._init;return v(f,p,g,b(_._payload),E)}if(Ur(_)||Tr(_))return f=f.get(g)||null,d(p,f,_,E,null);Vs(p,_)}return null}function y(f,p,g,_){for(var E=null,b=null,S=p,N=p=0,I=null;S!==null&&N<g.length;N++){S.index>N?(I=S,S=null):I=S.sibling;var R=m(f,S,g[N],_);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(f,S),p=i(R,p,N),b===null?E=R:b.sibling=R,b=R,S=I}if(N===g.length)return n(f,S),te&&kn(f,N),E;if(S===null){for(;N<g.length;N++)S=h(f,g[N],_),S!==null&&(p=i(S,p,N),b===null?E=S:b.sibling=S,b=S);return te&&kn(f,N),E}for(S=r(f,S);N<g.length;N++)I=v(S,f,N,g[N],_),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?N:I.key),p=i(I,p,N),b===null?E=I:b.sibling=I,b=I);return t&&S.forEach(function(ye){return e(f,ye)}),te&&kn(f,N),E}function w(f,p,g,_){var E=Tr(g);if(typeof E!="function")throw Error(j(150));if(g=E.call(g),g==null)throw Error(j(151));for(var b=E=null,S=p,N=p=0,I=null,R=g.next();S!==null&&!R.done;N++,R=g.next()){S.index>N?(I=S,S=null):I=S.sibling;var ye=m(f,S,R.value,_);if(ye===null){S===null&&(S=I);break}t&&S&&ye.alternate===null&&e(f,S),p=i(ye,p,N),b===null?E=ye:b.sibling=ye,b=ye,S=I}if(R.done)return n(f,S),te&&kn(f,N),E;if(S===null){for(;!R.done;N++,R=g.next())R=h(f,R.value,_),R!==null&&(p=i(R,p,N),b===null?E=R:b.sibling=R,b=R);return te&&kn(f,N),E}for(S=r(f,S);!R.done;N++,R=g.next())R=v(S,f,N,R.value,_),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?N:R.key),p=i(R,p,N),b===null?E=R:b.sibling=R,b=R);return t&&S.forEach(function(Nt){return e(f,Nt)}),te&&kn(f,N),E}function k(f,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Is:e:{for(var E=g.key,b=p;b!==null;){if(b.key===E){if(E=g.type,E===Qn){if(b.tag===7){n(f,b.sibling),p=s(b,g.props.children),p.return=f,f=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qt&&Vu(E)===b.type){n(f,b.sibling),p=s(b,g.props),p.ref=Or(f,b,g),p.return=f,f=p;break e}n(f,b);break}else e(f,b);b=b.sibling}g.type===Qn?(p=Rn(g.props.children,f.mode,_,g.key),p.return=f,f=p):(_=ci(g.type,g.key,g.props,null,f.mode,_),_.ref=Or(f,p,g),_.return=f,f=_)}return o(f);case Jn:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(f,p.sibling),p=s(p,g.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=Io(g,f.mode,_),p.return=f,f=p}return o(f);case Qt:return b=g._init,k(f,p,b(g._payload),_)}if(Ur(g))return y(f,p,g,_);if(Tr(g))return w(f,p,g,_);Vs(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,g),p.return=f,f=p):(n(f,p),p=Lo(g,f.mode,_),p.return=f,f=p),o(f)):n(f,p)}return k}var gr=rh(!0),sh=rh(!1),bi=gn(null),ji=null,sr=null,_a=null;function ka(){_a=sr=ji=null}function Sa(t){var e=bi.current;Z(bi),t._currentValue=e}function xl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dr(t,e){ji=t,_a=sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fe=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(_a!==t)if(t={context:t,memoizedValue:e,next:null},sr===null){if(ji===null)throw Error(j(308));sr=t,ji.dependencies={lanes:0,firstContext:t}}else sr=sr.next=t;return e}var Cn=null;function ba(t){Cn===null?Cn=[t]:Cn.push(t)}function ih(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ba(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wt(t,r)}function Wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yt=!1;function ja(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wt(t,n)}return s=r.interleaved,s===null?(e.next=e,ba(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wt(t,n)}function si(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ca(t,n)}}function qu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ei(t,e,n,r){var s=t.updateQueue;Yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(m=e,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=se({},h,m);break e;case 2:Yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$n|=o,t.lanes=o,t.memoizedState=h}}function Hu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Ss={},Ct=gn(Ss),hs=gn(Ss),fs=gn(Ss);function Nn(t){if(t===Ss)throw Error(j(174));return t}function Ea(t,e){switch(Q(fs,e),Q(hs,t),Q(Ct,Ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:el(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=el(e,t)}Z(Ct),Q(Ct,e)}function vr(){Z(Ct),Z(hs),Z(fs)}function lh(t){Nn(fs.current);var e=Nn(Ct.current),n=el(e,t.type);e!==n&&(Q(hs,t),Q(Ct,n))}function Ca(t){hs.current===t&&(Z(Ct),Z(hs))}var ne=gn(0);function Ci(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eo=[];function Na(){for(var t=0;t<Eo.length;t++)Eo[t]._workInProgressVersionPrimary=null;Eo.length=0}var ii=qt.ReactCurrentDispatcher,Co=qt.ReactCurrentBatchConfig,On=0,re=null,ge=null,_e=null,Ni=!1,Gr=!1,ps=0,n0=0;function Ne(){throw Error(j(321))}function Ta(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function Pa(t,e,n,r,s,i){if(On=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ii.current=t===null||t.memoizedState===null?o0:l0,t=n(r,s),Gr){i=0;do{if(Gr=!1,ps=0,25<=i)throw Error(j(301));i+=1,_e=ge=null,e.updateQueue=null,ii.current=a0,t=n(r,s)}while(Gr)}if(ii.current=Ti,e=ge!==null&&ge.next!==null,On=0,_e=ge=re=null,Ni=!1,e)throw Error(j(300));return t}function Ra(){var t=ps!==0;return ps=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?re.memoizedState=_e=t:_e=_e.next=t,_e}function at(){if(ge===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=_e===null?re.memoizedState:_e.next;if(e!==null)_e=e,ge=t;else{if(t===null)throw Error(j(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},_e===null?re.memoizedState=_e=t:_e=_e.next=t}return _e}function ms(t,e){return typeof e=="function"?e(t):e}function No(t){var e=at(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((On&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,re.lanes|=d,$n|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,yt(r,e.memoizedState)||(Fe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,re.lanes|=i,$n|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function To(t){var e=at(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yt(i,e.memoizedState)||(Fe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ah(){}function uh(t,e){var n=re,r=at(),s=e(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Fe=!0),r=r.queue,La(hh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,gs(9,dh.bind(null,n,r,s,e),void 0,null),ke===null)throw Error(j(349));On&30||ch(n,e,s)}return s}function ch(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dh(t,e,n,r){e.value=n,e.getSnapshot=r,fh(e)&&ph(t)}function hh(t,e,n){return n(function(){fh(e)&&ph(t)})}function fh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function ph(t){var e=Wt(t,1);e!==null&&vt(e,t,1,-1)}function Ku(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},e.queue=t,t=t.dispatch=i0.bind(null,re,t),[e.memoizedState,t]}function gs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mh(){return at().memoizedState}function oi(t,e,n,r){var s=St();re.flags|=t,s.memoizedState=gs(1|e,n,void 0,r===void 0?null:r)}function qi(t,e,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,r!==null&&Ta(r,o.deps)){s.memoizedState=gs(e,n,i,r);return}}re.flags|=t,s.memoizedState=gs(1|e,n,i,r)}function Gu(t,e){return oi(8390656,8,t,e)}function La(t,e){return qi(2048,8,t,e)}function gh(t,e){return qi(4,2,t,e)}function vh(t,e){return qi(4,4,t,e)}function yh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wh(t,e,n){return n=n!=null?n.concat([t]):null,qi(4,4,yh.bind(null,e,t),n)}function Ia(){}function xh(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ta(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _h(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ta(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kh(t,e,n){return On&21?(yt(n,e)||(n=Cd(),re.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=n)}function r0(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Co.transition;Co.transition={};try{t(!1),e()}finally{q=n,Co.transition=r}}function Sh(){return at().memoizedState}function s0(t,e,n){var r=dn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bh(t))jh(e,n);else if(n=ih(t,e,n,r),n!==null){var s=Ae();vt(n,t,r,s),Eh(n,e,r)}}function i0(t,e,n){var r=dn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bh(t))jh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,yt(l,o)){var a=e.interleaved;a===null?(s.next=s,ba(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=ih(t,e,s,r),n!==null&&(s=Ae(),vt(n,t,r,s),Eh(n,e,r))}}function bh(t){var e=t.alternate;return t===re||e!==null&&e===re}function jh(t,e){Gr=Ni=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Eh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ca(t,n)}}var Ti={readContext:lt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},o0={readContext:lt,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Gu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oi(4194308,4,yh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oi(4194308,4,t,e)},useInsertionEffect:function(t,e){return oi(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s0.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Ku,useDebugValue:Ia,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Ku(!1),e=t[0];return t=r0.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,s=St();if(te){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ke===null)throw Error(j(349));On&30||ch(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Gu(hh.bind(null,r,i,t),[t]),r.flags|=2048,gs(9,dh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=St(),e=ke.identifierPrefix;if(te){var n=zt,r=Mt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ps++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l0={readContext:lt,useCallback:xh,useContext:lt,useEffect:La,useImperativeHandle:wh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:_h,useReducer:No,useRef:mh,useState:function(){return No(ms)},useDebugValue:Ia,useDeferredValue:function(t){var e=at();return kh(e,ge.memoizedState,t)},useTransition:function(){var t=No(ms)[0],e=at().memoizedState;return[t,e]},useMutableSource:ah,useSyncExternalStore:uh,useId:Sh,unstable_isNewReconciler:!1},a0={readContext:lt,useCallback:xh,useContext:lt,useEffect:La,useImperativeHandle:wh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:_h,useReducer:To,useRef:mh,useState:function(){return To(ms)},useDebugValue:Ia,useDeferredValue:function(t){var e=at();return ge===null?e.memoizedState=t:kh(e,ge.memoizedState,t)},useTransition:function(){var t=To(ms)[0],e=at().memoizedState;return[t,e]},useMutableSource:ah,useSyncExternalStore:uh,useId:Sh,unstable_isNewReconciler:!1};function ht(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _l(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hi={isMounted:function(t){return(t=t._reactInternals)?zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=dn(t),i=Ut(r,s);i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(vt(e,t,s,r),si(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=dn(t),i=Ut(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(vt(e,t,s,r),si(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=dn(t),s=Ut(n,r);s.tag=2,e!=null&&(s.callback=e),e=un(t,s,r),e!==null&&(vt(e,t,r,n),si(e,t,r))}};function Ju(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!as(n,r)||!as(s,i):!0}function Ch(t,e,n){var r=!1,s=pn,i=e.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=We(e)?Ln:Le.current,r=e.contextTypes,i=(r=r!=null)?pr(t,s):pn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hi.enqueueReplaceState(e,e.state,null)}function kl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ja(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=We(e)?Ln:Le.current,s.context=pr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_l(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hi.enqueueReplaceState(s,s.state,null),Ei(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yr(t,e){try{var n="",r=e;do n+=Ap(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Po(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u0=typeof WeakMap=="function"?WeakMap:Map;function Nh(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ri||(Ri=!0,Il=r),Sl(t,e)},n}function Th(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sl(t,e),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=S0.bind(null,t,e,n),e.then(t,t))}function Xu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,un(n,e,1))),n.lanes|=1),t)}var c0=qt.ReactCurrentOwner,Fe=!1;function $e(t,e,n,r){e.child=t===null?sh(e,null,n,r):gr(e,t.child,n,r)}function ec(t,e,n,r,s){n=n.render;var i=e.ref;return dr(e,s),r=Pa(t,e,n,r,i,s),n=Ra(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(te&&n&&ya(e),e.flags|=1,$e(t,e,r,s),e.child)}function tc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ph(t,e,i,r,s)):(t=ci(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:as,n(o,r)&&t.ref===e.ref)return Vt(t,e,s)}return e.flags|=1,t=hn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ph(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(as(i,r)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,Vt(t,e,s)}return bl(t,e,n,r,s)}function Rh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(or,Ke),Ke|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(or,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(or,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Q(or,Ke),Ke|=r;return $e(t,e,s,n),e.child}function Lh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bl(t,e,n,r,s){var i=We(n)?Ln:Le.current;return i=pr(e,i),dr(e,s),n=Pa(t,e,n,r,i,s),r=Ra(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(te&&r&&ya(e),e.flags|=1,$e(t,e,n,s),e.child)}function nc(t,e,n,r,s){if(We(n)){var i=!0;_i(e)}else i=!1;if(dr(e,s),e.stateNode===null)li(t,e),Ch(e,n,r),kl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lt(c):(c=We(n)?Ln:Le.current,c=pr(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Qu(e,o,r,c),Yt=!1;var m=e.memoizedState;o.state=m,Ei(e,r,o,s),a=e.memoizedState,l!==r||m!==a||Be.current||Yt?(typeof d=="function"&&(_l(e,n,d,r),a=e.memoizedState),(l=Yt||Ju(e,n,l,r,m,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oh(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ht(e.type,l),o.props=c,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=lt(a):(a=We(n)?Ln:Le.current,a=pr(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Qu(e,o,r,a),Yt=!1,m=e.memoizedState,o.state=m,Ei(e,r,o,s);var y=e.memoizedState;l!==h||m!==y||Be.current||Yt?(typeof v=="function"&&(_l(e,n,v,r),y=e.memoizedState),(c=Yt||Ju(e,n,c,r,m,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return jl(t,e,n,r,i,s)}function jl(t,e,n,r,s,i){Lh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Fu(e,n,!1),Vt(t,e,i);r=e.stateNode,c0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gr(e,t.child,null,i),e.child=gr(e,null,l,i)):$e(t,e,l,i),e.memoizedState=r.state,s&&Fu(e,n,!0),e.child}function Ih(t){var e=t.stateNode;e.pendingContext?Du(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Du(t,e.context,!1),Ea(t,e.containerInfo)}function rc(t,e,n,r,s){return mr(),xa(s),e.flags|=256,$e(t,e,n,r),e.child}var El={dehydrated:null,treeContext:null,retryLane:0};function Cl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oh(t,e,n){var r=e.pendingProps,s=ne.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(ne,s&1),t===null)return wl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ji(o,r,0,null),t=Rn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cl(n),e.memoizedState=El,t):Oa(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return d0(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=hn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hn(l,i):(i=Rn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=El,r}return i=t.child,t=i.sibling,r=hn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oa(t,e){return e=Ji({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qs(t,e,n,r){return r!==null&&xa(r),gr(e,t.child,null,n),t=Oa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Po(Error(j(422))),qs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ji({mode:"visible",children:r.children},s,0,null),i=Rn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gr(e,t.child,null,o),e.child.memoizedState=Cl(o),e.memoizedState=El,i);if(!(e.mode&1))return qs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(j(419)),r=Po(i,r,void 0),qs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fe||l){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(t,s),vt(r,t,s,-1))}return Da(),r=Po(Error(j(421))),qs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Je=an(s.nextSibling),Qe=e,te=!0,mt=null,t!==null&&(tt[nt++]=Mt,tt[nt++]=zt,tt[nt++]=In,Mt=t.id,zt=t.overflow,In=e),e=Oa(e,r.children),e.flags|=4096,e)}function sc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xl(t.return,e,n)}function Ro(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $h(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($e(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sc(t,n,e);else if(t.tag===19)sc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ci(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ro(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ci(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ro(e,!0,n,null,i);break;case"together":Ro(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function li(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h0(t,e,n){switch(e.tag){case 3:Ih(e),mr();break;case 5:lh(e);break;case 1:We(e.type)&&_i(e);break;case 4:Ea(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Q(bi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?Oh(t,e,n):(Q(ne,ne.current&1),t=Vt(t,e,n),t!==null?t.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $h(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Rh(t,e,n)}return Vt(t,e,n)}var Ah,Nl,Mh,zh;Ah=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nl=function(){};Mh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Nn(Ct.current);var i=null;switch(n){case"input":s=Qo(t,s),r=Qo(t,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Zo(t,s),r=Zo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wi)}tl(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ts.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ts.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&X("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zh=function(t,e,n,r){n!==r&&(e.flags|=4)};function $r(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function f0(t,e,n){var r=e.pendingProps;switch(wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return We(e.type)&&xi(),Te(e),null;case 3:return r=e.stateNode,vr(),Z(Be),Z(Le),Na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mt!==null&&(Al(mt),mt=null))),Nl(t,e),Te(e),null;case 5:Ca(e);var s=Nn(fs.current);if(n=e.type,t!==null&&e.stateNode!=null)Mh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Te(e),null}if(t=Nn(Ct.current),Ws(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[jt]=e,r[ds]=i,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<Fr.length;s++)X(Fr[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":fu(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":mu(r,i),X("invalid",r)}tl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bs(r.textContent,l,t),s=["children",""+l]):ts.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":Os(r),pu(r,i,!0);break;case"textarea":Os(r),gu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jt]=e,t[ds]=r,Ah(t,e,!1,!1),e.stateNode=t;e:{switch(o=nl(n,r),n){case"dialog":X("cancel",t),X("close",t),s=r;break;case"iframe":case"object":case"embed":X("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fr.length;s++)X(Fr[s],t);s=r;break;case"source":X("error",t),s=r;break;case"img":case"image":case"link":X("error",t),X("load",t),s=r;break;case"details":X("toggle",t),s=r;break;case"input":fu(t,r),s=Qo(t,r),X("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),X("invalid",t);break;case"textarea":mu(t,r),s=Zo(t,r),X("invalid",t);break;default:s=r}tl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?md(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&fd(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ns(t,a):typeof a=="number"&&ns(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ts.hasOwnProperty(i)?a!=null&&i==="onScroll"&&X("scroll",t):a!=null&&sa(t,i,a,o))}switch(n){case"input":Os(t),pu(t,r,!1);break;case"textarea":Os(t),gu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?lr(t,!!r.multiple,i,!1):r.defaultValue!=null&&lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)zh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Nn(fs.current),Nn(Ct.current),Ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[jt]=e,(i=r.nodeValue!==n)&&(t=Qe,t!==null))switch(t.tag){case 3:Bs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=e,e.stateNode=r}return Te(e),null;case 13:if(Z(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Je!==null&&e.mode&1&&!(e.flags&128))nh(),mr(),e.flags|=98560,i=!1;else if(i=Ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[jt]=e}else mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else mt!==null&&(Al(mt),mt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?ve===0&&(ve=3):Da())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return vr(),Nl(t,e),t===null&&us(e.stateNode.containerInfo),Te(e),null;case 10:return Sa(e.type._context),Te(e),null;case 17:return We(e.type)&&xi(),Te(e),null;case 19:if(Z(ne),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$r(i,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ci(t),o!==null){for(e.flags|=128,$r(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>wr&&(e.flags|=128,r=!0,$r(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ci(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$r(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Te(e),null}else 2*le()-i.renderingStartTime>wr&&n!==1073741824&&(e.flags|=128,r=!0,$r(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=ne.current,Q(ne,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return Ua(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ke&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function p0(t,e){switch(wa(e),e.tag){case 1:return We(e.type)&&xi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vr(),Z(Be),Z(Le),Na(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ca(e),null;case 13:if(Z(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(ne),null;case 4:return vr(),null;case 10:return Sa(e.type._context),null;case 22:case 23:return Ua(),null;case 24:return null;default:return null}}var Hs=!1,Pe=!1,m0=typeof WeakSet=="function"?WeakSet:Set,T=null;function ir(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function Tl(t,e,n){try{n()}catch(r){ie(t,e,r)}}var ic=!1;function g0(t,e){if(hl=gi,t=Wd(),va(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(fl={focusedElem:t,selectionRange:n},gi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,k=y.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:ht(e.type,w),k);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){ie(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=ic,ic=!1,y}function Jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tl(e,n,i)}s=s.next}while(s!==r)}}function Ki(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uh(t){var e=t.alternate;e!==null&&(t.alternate=null,Uh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jt],delete e[ds],delete e[gl],delete e[Xm],delete e[Zm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dh(t){return t.tag===5||t.tag===3||t.tag===4}function oc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wi));else if(r!==4&&(t=t.child,t!==null))for(Rl(t,e,n),t=t.sibling;t!==null;)Rl(t,e,n),t=t.sibling}function Ll(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ll(t,e,n),t=t.sibling;t!==null;)Ll(t,e,n),t=t.sibling}var be=null,ft=!1;function Kt(t,e,n){for(n=n.child;n!==null;)Fh(t,e,n),n=n.sibling}function Fh(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ui,n)}catch{}switch(n.tag){case 5:Pe||ir(n,e);case 6:var r=be,s=ft;be=null,Kt(t,e,n),be=r,ft=s,be!==null&&(ft?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ft?(t=be,n=n.stateNode,t.nodeType===8?bo(t.parentNode,n):t.nodeType===1&&bo(t,n),os(t)):bo(be,n.stateNode));break;case 4:r=be,s=ft,be=n.stateNode.containerInfo,ft=!0,Kt(t,e,n),be=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tl(n,e,o),s=s.next}while(s!==r)}Kt(t,e,n);break;case 1:if(!Pe&&(ir(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ie(n,e,l)}Kt(t,e,n);break;case 21:Kt(t,e,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Kt(t,e,n),Pe=r):Kt(t,e,n);break;default:Kt(t,e,n)}}function lc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m0),e.forEach(function(r){var s=j0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,ft=!1;break e;case 3:be=l.stateNode.containerInfo,ft=!0;break e;case 4:be=l.stateNode.containerInfo,ft=!0;break e}l=l.return}if(be===null)throw Error(j(160));Fh(i,o,s),be=null,ft=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ie(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bh(e,t),e=e.sibling}function Bh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),kt(t),r&4){try{Jr(3,t,t.return),Ki(3,t)}catch(w){ie(t,t.return,w)}try{Jr(5,t,t.return)}catch(w){ie(t,t.return,w)}}break;case 1:ct(e,t),kt(t),r&512&&n!==null&&ir(n,n.return);break;case 5:if(ct(e,t),kt(t),r&512&&n!==null&&ir(n,n.return),t.flags&32){var s=t.stateNode;try{ns(s,"")}catch(w){ie(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cd(s,i),nl(l,o);var c=nl(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?md(s,h):d==="dangerouslySetInnerHTML"?fd(s,h):d==="children"?ns(s,h):sa(s,d,h,c)}switch(l){case"input":Yo(s,i);break;case"textarea":dd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?lr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?lr(s,!!i.multiple,i.defaultValue,!0):lr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ds]=i}catch(w){ie(t,t.return,w)}}break;case 6:if(ct(e,t),kt(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ie(t,t.return,w)}}break;case 3:if(ct(e,t),kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{os(e.containerInfo)}catch(w){ie(t,t.return,w)}break;case 4:ct(e,t),kt(t);break;case 13:ct(e,t),kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ma=le())),r&4&&lc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pe=(c=Pe)||d,ct(e,t),Pe=c):ct(e,t),kt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(m=T,v=m.child,m.tag){case 0:case 11:case 14:case 15:Jr(4,m,m.return);break;case 1:ir(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:ir(m,m.return);break;case 22:if(m.memoizedState!==null){uc(h);continue}}v!==null?(v.return=m,T=v):uc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=pd("display",o))}catch(w){ie(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ie(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(e,t),kt(t),r&4&&lc(t);break;case 21:break;default:ct(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dh(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ns(s,""),r.flags&=-33);var i=oc(t);Ll(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=oc(t);Rl(t,l,o);break;default:throw Error(j(161))}}catch(a){ie(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v0(t,e,n){T=t,Wh(t)}function Wh(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Pe;l=Hs;var c=Pe;if(Hs=o,(Pe=a)&&!c)for(T=s;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?cc(s):a!==null?(a.return=o,T=a):cc(s);for(;i!==null;)T=i,Wh(i),i=i.sibling;T=s,Hs=l,Pe=c}ac(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):ac(t)}}function ac(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||Ki(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ht(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Pe||e.flags&512&&Pl(e)}catch(m){ie(e,e.return,m)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function uc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function cc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ki(4,e)}catch(a){ie(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ie(e,s,a)}}var i=e.return;try{Pl(e)}catch(a){ie(e,i,a)}break;case 5:var o=e.return;try{Pl(e)}catch(a){ie(e,o,a)}}}catch(a){ie(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var y0=Math.ceil,Pi=qt.ReactCurrentDispatcher,$a=qt.ReactCurrentOwner,st=qt.ReactCurrentBatchConfig,D=0,ke=null,ce=null,je=0,Ke=0,or=gn(0),ve=0,vs=null,$n=0,Gi=0,Aa=0,Qr=null,Ue=null,Ma=0,wr=1/0,Ot=null,Ri=!1,Il=null,cn=null,Ks=!1,nn=null,Li=0,Yr=0,Ol=null,ai=-1,ui=0;function Ae(){return D&6?le():ai!==-1?ai:ai=le()}function dn(t){return t.mode&1?D&2&&je!==0?je&-je:t0.transition!==null?(ui===0&&(ui=Cd()),ui):(t=q,t!==0||(t=window.event,t=t===void 0?16:Od(t.type)),t):1}function vt(t,e,n,r){if(50<Yr)throw Yr=0,Ol=null,Error(j(185));xs(t,n,r),(!(D&2)||t!==ke)&&(t===ke&&(!(D&2)&&(Gi|=n),ve===4&&Zt(t,je)),Ve(t,r),n===1&&D===0&&!(e.mode&1)&&(wr=le()+500,Vi&&vn()))}function Ve(t,e){var n=t.callbackNode;tm(t,e);var r=mi(t,t===ke?je:0);if(r===0)n!==null&&wu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wu(n),e===1)t.tag===0?e0(dc.bind(null,t)):Zd(dc.bind(null,t)),Qm(function(){!(D&6)&&vn()}),n=null;else{switch(Nd(r)){case 1:n=ua;break;case 4:n=jd;break;case 16:n=pi;break;case 536870912:n=Ed;break;default:n=pi}n=Yh(n,Vh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vh(t,e){if(ai=-1,ui=0,D&6)throw Error(j(327));var n=t.callbackNode;if(hr()&&t.callbackNode!==n)return null;var r=mi(t,t===ke?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ii(t,r);else{e=r;var s=D;D|=2;var i=Hh();(ke!==t||je!==e)&&(Ot=null,wr=le()+500,Pn(t,e));do try{_0();break}catch(l){qh(t,l)}while(!0);ka(),Pi.current=i,D=s,ce!==null?e=0:(ke=null,je=0,e=ve)}if(e!==0){if(e===2&&(s=ll(t),s!==0&&(r=s,e=$l(t,s))),e===1)throw n=vs,Pn(t,0),Zt(t,r),Ve(t,le()),n;if(e===6)Zt(t,r);else{if(s=t.current.alternate,!(r&30)&&!w0(s)&&(e=Ii(t,r),e===2&&(i=ll(t),i!==0&&(r=i,e=$l(t,i))),e===1))throw n=vs,Pn(t,0),Zt(t,r),Ve(t,le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Sn(t,Ue,Ot);break;case 3:if(Zt(t,r),(r&130023424)===r&&(e=Ma+500-le(),10<e)){if(mi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ml(Sn.bind(null,t,Ue,Ot),e);break}Sn(t,Ue,Ot);break;case 4:if(Zt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y0(r/1960))-r,10<r){t.timeoutHandle=ml(Sn.bind(null,t,Ue,Ot),r);break}Sn(t,Ue,Ot);break;case 5:Sn(t,Ue,Ot);break;default:throw Error(j(329))}}}return Ve(t,le()),t.callbackNode===n?Vh.bind(null,t):null}function $l(t,e){var n=Qr;return t.current.memoizedState.isDehydrated&&(Pn(t,e).flags|=256),t=Ii(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&Al(e)),t}function Al(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function w0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zt(t,e){for(e&=~Aa,e&=~Gi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gt(e),r=1<<n;t[n]=-1,e&=~r}}function dc(t){if(D&6)throw Error(j(327));hr();var e=mi(t,0);if(!(e&1))return Ve(t,le()),null;var n=Ii(t,e);if(t.tag!==0&&n===2){var r=ll(t);r!==0&&(e=r,n=$l(t,r))}if(n===1)throw n=vs,Pn(t,0),Zt(t,e),Ve(t,le()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sn(t,Ue,Ot),Ve(t,le()),null}function za(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(wr=le()+500,Vi&&vn())}}function An(t){nn!==null&&nn.tag===0&&!(D&6)&&hr();var e=D;D|=1;var n=st.transition,r=q;try{if(st.transition=null,q=1,t)return t()}finally{q=r,st.transition=n,D=e,!(D&6)&&vn()}}function Ua(){Ke=or.current,Z(or)}function Pn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Jm(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xi();break;case 3:vr(),Z(Be),Z(Le),Na();break;case 5:Ca(r);break;case 4:vr();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:Sa(r.type._context);break;case 22:case 23:Ua()}n=n.return}if(ke=t,ce=t=hn(t.current,null),je=Ke=e,ve=0,vs=null,Aa=Gi=$n=0,Ue=Qr=null,Cn!==null){for(e=0;e<Cn.length;e++)if(n=Cn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cn=null}return t}function qh(t,e){do{var n=ce;try{if(ka(),ii.current=Ti,Ni){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ni=!1}if(On=0,_e=ge=re=null,Gr=!1,ps=0,$a.current=null,n===null||n.return===null){ve=1,vs=e,ce=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xu(o);if(v!==null){v.flags&=-257,Zu(v,o,l,i,e),v.mode&1&&Yu(i,c,e),e=v,a=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(a),e.updateQueue=w}else y.add(a);break e}else{if(!(e&1)){Yu(i,c,e),Da();break e}a=Error(j(426))}}else if(te&&l.mode&1){var k=Xu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Zu(k,o,l,i,e),xa(yr(a,l));break e}}i=a=yr(a,l),ve!==4&&(ve=2),Qr===null?Qr=[i]:Qr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=Nh(i,a,e);qu(i,f);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Th(i,l,e);qu(i,_);break e}}i=i.return}while(i!==null)}Gh(n)}catch(E){e=E,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Hh(){var t=Pi.current;return Pi.current=Ti,t===null?Ti:t}function Da(){(ve===0||ve===3||ve===2)&&(ve=4),ke===null||!($n&268435455)&&!(Gi&268435455)||Zt(ke,je)}function Ii(t,e){var n=D;D|=2;var r=Hh();(ke!==t||je!==e)&&(Ot=null,Pn(t,e));do try{x0();break}catch(s){qh(t,s)}while(!0);if(ka(),D=n,Pi.current=r,ce!==null)throw Error(j(261));return ke=null,je=0,ve}function x0(){for(;ce!==null;)Kh(ce)}function _0(){for(;ce!==null&&!Hp();)Kh(ce)}function Kh(t){var e=Qh(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?Gh(t):ce=e,$a.current=null}function Gh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p0(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ce=null;return}}else if(n=f0(n,e,Ke),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);ve===0&&(ve=5)}function Sn(t,e,n){var r=q,s=st.transition;try{st.transition=null,q=1,k0(t,e,n,r)}finally{st.transition=s,q=r}return null}function k0(t,e,n,r){do hr();while(nn!==null);if(D&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(nm(t,i),t===ke&&(ce=ke=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Yh(pi,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var o=q;q=1;var l=D;D|=4,$a.current=null,g0(t,n),Bh(n,t),Bm(fl),gi=!!hl,fl=hl=null,t.current=n,v0(n),Kp(),D=l,q=o,st.transition=i}else t.current=n;if(Ks&&(Ks=!1,nn=t,Li=s),i=t.pendingLanes,i===0&&(cn=null),Qp(n.stateNode),Ve(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,t=Il,Il=null,t;return Li&1&&t.tag!==0&&hr(),i=t.pendingLanes,i&1?t===Ol?Yr++:(Yr=0,Ol=t):Yr=0,vn(),null}function hr(){if(nn!==null){var t=Nd(Li),e=st.transition,n=q;try{if(st.transition=null,q=16>t?16:t,nn===null)var r=!1;else{if(t=nn,nn=null,Li=0,D&6)throw Error(j(331));var s=D;for(D|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Jr(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var m=d.sibling,v=d.return;if(Uh(d),d===c){T=null;break}if(m!==null){m.return=v,T=m;break}T=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,T=f;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ki(9,l)}}catch(E){ie(l,l.return,E)}if(l===o){T=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,T=_;break e}T=l.return}}if(D=s,vn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ui,t)}catch{}r=!0}return r}finally{q=n,st.transition=e}}return!1}function hc(t,e,n){e=yr(n,e),e=Nh(t,e,1),t=un(t,e,1),e=Ae(),t!==null&&(xs(t,1,e),Ve(t,e))}function ie(t,e,n){if(t.tag===3)hc(t,t,n);else for(;e!==null;){if(e.tag===3){hc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){t=yr(n,t),t=Th(e,t,1),e=un(e,t,1),t=Ae(),e!==null&&(xs(e,1,t),Ve(e,t));break}}e=e.return}}function S0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(je&n)===n&&(ve===4||ve===3&&(je&130023424)===je&&500>le()-Ma?Pn(t,0):Aa|=n),Ve(t,e)}function Jh(t,e){e===0&&(t.mode&1?(e=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):e=1);var n=Ae();t=Wt(t,e),t!==null&&(xs(t,e,n),Ve(t,n))}function b0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jh(t,n)}function j0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Jh(t,n)}var Qh;Qh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)Fe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fe=!1,h0(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,te&&e.flags&1048576&&eh(e,Si,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;li(t,e),t=e.pendingProps;var s=pr(e,Le.current);dr(e,n),s=Pa(null,e,r,t,s,n);var i=Ra();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(r)?(i=!0,_i(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ja(e),s.updater=Hi,e.stateNode=s,s._reactInternals=e,kl(e,r,t,n),e=jl(null,e,r,!0,i,n)):(e.tag=0,te&&i&&ya(e),$e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(li(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=C0(r),t=ht(r,t),s){case 0:e=bl(null,e,r,t,n);break e;case 1:e=nc(null,e,r,t,n);break e;case 11:e=ec(null,e,r,t,n);break e;case 14:e=tc(null,e,r,ht(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ht(r,s),bl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ht(r,s),nc(t,e,r,s,n);case 3:e:{if(Ih(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oh(t,e),Ei(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yr(Error(j(423)),e),e=rc(t,e,r,n,s);break e}else if(r!==s){s=yr(Error(j(424)),e),e=rc(t,e,r,n,s);break e}else for(Je=an(e.stateNode.containerInfo.firstChild),Qe=e,te=!0,mt=null,n=sh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===s){e=Vt(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return lh(e),t===null&&wl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,pl(r,s)?o=null:i!==null&&pl(r,i)&&(e.flags|=32),Lh(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&wl(e),null;case 13:return Oh(t,e,n);case 4:return Ea(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gr(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ht(r,s),ec(t,e,r,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Q(bi,r._currentValue),r._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!Be.current){e=Vt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ut(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),xl(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dr(e,n),s=lt(s),r=r(s),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,s=ht(r,e.pendingProps),s=ht(r.type,s),tc(t,e,r,s,n);case 15:return Ph(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ht(r,s),li(t,e),e.tag=1,We(r)?(t=!0,_i(e)):t=!1,dr(e,n),Ch(e,r,s),kl(e,r,s,n),jl(null,e,r,!0,t,n);case 19:return $h(t,e,n);case 22:return Rh(t,e,n)}throw Error(j(156,e.tag))};function Yh(t,e){return bd(t,e)}function E0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,n,r){return new E0(t,e,n,r)}function Fa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C0(t){if(typeof t=="function")return Fa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oa)return 11;if(t===la)return 14}return 2}function hn(t,e){var n=t.alternate;return n===null?(n=rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ci(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qn:return Rn(n.children,s,i,e);case ia:o=8,s|=8;break;case Ho:return t=rt(12,n,e,s|2),t.elementType=Ho,t.lanes=i,t;case Ko:return t=rt(13,n,e,s),t.elementType=Ko,t.lanes=i,t;case Go:return t=rt(19,n,e,s),t.elementType=Go,t.lanes=i,t;case ld:return Ji(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:o=10;break e;case od:o=9;break e;case oa:o=11;break e;case la:o=14;break e;case Qt:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=rt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rn(t,e,n,r){return t=rt(7,t,r,e),t.lanes=n,t}function Ji(t,e,n,r){return t=rt(22,t,r,e),t.elementType=ld,t.lanes=n,t.stateNode={isHidden:!1},t}function Lo(t,e,n){return t=rt(6,t,null,e),t.lanes=n,t}function Io(t,e,n){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ba(t,e,n,r,s,i,o,l,a){return t=new N0(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(i),t}function T0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xh(t){if(!t)return pn;t=t._reactInternals;e:{if(zn(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(We(n))return Xd(t,n,e)}return e}function Zh(t,e,n,r,s,i,o,l,a){return t=Ba(n,r,!0,t,s,i,o,l,a),t.context=Xh(null),n=t.current,r=Ae(),s=dn(n),i=Ut(r,s),i.callback=e??null,un(n,i,s),t.current.lanes=s,xs(t,s,r),Ve(t,r),t}function Qi(t,e,n,r){var s=e.current,i=Ae(),o=dn(s);return n=Xh(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=un(s,e,o),t!==null&&(vt(t,s,o,i),si(t,s,o)),o}function Oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wa(t,e){fc(t,e),(t=t.alternate)&&fc(t,e)}function P0(){return null}var ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function Va(t){this._internalRoot=t}Yi.prototype.render=Va.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Qi(t,e,null,null)};Yi.prototype.unmount=Va.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){Qi(null,t,null,null)}),e[Bt]=null}};function Yi(t){this._internalRoot=t}Yi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xt.length&&e!==0&&e<Xt[n].priority;n++);Xt.splice(n,0,t),n===0&&Id(t)}};function qa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pc(){}function R0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Oi(o);i.call(c)}}var o=Zh(e,r,t,0,null,!1,!1,"",pc);return t._reactRootContainer=o,t[Bt]=o.current,us(t.nodeType===8?t.parentNode:t),An(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Oi(a);l.call(c)}}var a=Ba(t,0,!1,null,null,!1,!1,"",pc);return t._reactRootContainer=a,t[Bt]=a.current,us(t.nodeType===8?t.parentNode:t),An(function(){Qi(e,a,n,r)}),a}function Zi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Oi(o);l.call(a)}}Qi(e,o,t,s)}else o=R0(n,e,t,s,r);return Oi(o)}Td=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dr(e.pendingLanes);n!==0&&(ca(e,n|1),Ve(e,le()),!(D&6)&&(wr=le()+500,vn()))}break;case 13:An(function(){var r=Wt(t,1);if(r!==null){var s=Ae();vt(r,t,1,s)}}),Wa(t,1)}};da=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var n=Ae();vt(e,t,134217728,n)}Wa(t,134217728)}};Pd=function(t){if(t.tag===13){var e=dn(t),n=Wt(t,e);if(n!==null){var r=Ae();vt(n,t,e,r)}Wa(t,e)}};Rd=function(){return q};Ld=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};sl=function(t,e,n){switch(e){case"input":if(Yo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wi(r);if(!s)throw Error(j(90));ud(r),Yo(r,s)}}}break;case"textarea":dd(t,n);break;case"select":e=n.value,e!=null&&lr(t,!!n.multiple,e,!1)}};yd=za;wd=An;var L0={usingClientEntryPoint:!1,Events:[ks,er,Wi,gd,vd,za]},Ar={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||P0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Ui=Gs.inject(I0),Et=Gs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L0;Xe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(e))throw Error(j(200));return T0(t,e,null,n)};Xe.createRoot=function(t,e){if(!qa(t))throw Error(j(299));var n=!1,r="",s=ef;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ba(t,1,!1,null,null,n,!1,r,s),t[Bt]=e.current,us(t.nodeType===8?t.parentNode:t),new Va(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=kd(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return An(t)};Xe.hydrate=function(t,e,n){if(!Xi(e))throw Error(j(200));return Zi(null,t,e,!0,n)};Xe.hydrateRoot=function(t,e,n){if(!qa(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ef;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zh(e,null,t,1,n??null,s,!1,i,o),t[Bt]=e.current,us(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yi(e)};Xe.render=function(t,e,n){if(!Xi(e))throw Error(j(200));return Zi(null,t,e,!1,n)};Xe.unmountComponentAtNode=function(t){if(!Xi(t))throw Error(j(40));return t._reactRootContainer?(An(function(){Zi(null,null,t,!1,function(){t._reactRootContainer=null,t[Bt]=null})}),!0):!1};Xe.unstable_batchedUpdates=za;Xe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xi(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Zi(t,e,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(t){console.error(t)}}tf(),td.exports=Xe;var O0=td.exports,nf,mc=O0;nf=mc.createRoot,mc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>x.createElement("svg",{ref:d,...$0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${A0(t)}`,l].join(" "),...c},[...e.map(([h,m])=>x.createElement(h,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=B("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=B("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=B("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=B("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=B("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=B("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=B("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=B("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=B("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=B("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=B("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=B("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=B("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=B("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),J0="modulepreload",Q0=function(t){return"/"+t},gc={},js=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Q0(a),a in gc)return;gc[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":J0,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Y0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Za extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class X0 extends Za{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vc extends Za{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yc extends Za{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zl||(zl={}));var Z0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class eg{constructor(e,{headers:n={},customFetch:r,region:s=zl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Y0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Z0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new X0(w)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new vc(h);if(!h.ok)throw new yc(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof yc||s instanceof vc?s.context:void 0}}})}}var De={},eu={},eo={},Es={},to={},no={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xr=tg();const ng=xr.fetch,hf=xr.fetch.bind(xr),ff=xr.Headers,rg=xr.Request,sg=xr.Response,jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ff,Request:rg,Response:sg,default:hf,fetch:ng},Symbol.toStringTag,{value:"Module"})),ig=ap(jr);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});let og=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ro.default=og;var pf=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(no,"__esModule",{value:!0});const lg=pf(ig),ag=pf(ro);let ug=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=lg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,m=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const k=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),f=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&f&&f.length>1&&(m=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&k===""?(v=204,y="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new ag.default(d)}return{error:d,data:h,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};no.default=ug;var cg=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(to,"__esModule",{value:!0});const dg=cg(no);let hg=class extends dg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};to.default=hg;var fg=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});const pg=fg(to);let mg=class extends pg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Es.default=mg;var gg=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eo,"__esModule",{value:!0});const Mr=gg(Es);let vg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};eo.default=vg;var mf=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eu,"__esModule",{value:!0});const yg=mf(eo),wg=mf(Es);let xg=class gf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new yg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new wg.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};eu.default=xg;var Er=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const vf=Er(eu);De.PostgrestClient=vf.default;const yf=Er(eo);De.PostgrestQueryBuilder=yf.default;const wf=Er(Es);De.PostgrestFilterBuilder=wf.default;const xf=Er(to);De.PostgrestTransformBuilder=xf.default;const _f=Er(no);De.PostgrestBuilder=_f.default;const kf=Er(ro);De.PostgrestError=kf.default;var _g=De.default={PostgrestClient:vf.default,PostgrestQueryBuilder:yf.default,PostgrestFilterBuilder:wf.default,PostgrestTransformBuilder:xf.default,PostgrestBuilder:_f.default,PostgrestError:kf.default};const{PostgrestClient:kg,PostgrestQueryBuilder:_w,PostgrestFilterBuilder:kw,PostgrestTransformBuilder:Sw,PostgrestBuilder:bw,PostgrestError:jw}=_g;class Sg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bg="2.15.5",jg=`realtime-js/${bg}`,Eg="1.0.0",Ul=1e4,Cg=1e3,Ng=100;var Xr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xr||(Xr={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var Dl;(function(t){t.websocket="websocket"})(Dl||(Dl={}));var jn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jn||(jn={}));class Tg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Sf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const wc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Pg(o,t,e,s),i),{})},Pg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?bf(i,o):Fl(o)},bf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Og(e,n)}switch(t){case J.bool:return Rg(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Lg(e);case J.json:case J.jsonb:return Ig(e);case J.timestamp:return $g(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Fl(e);default:return Fl(e)}},Fl=t=>t,Rg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Lg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ig=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Og=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bf(e,l))}return t},$g=t=>typeof t=="string"?t.replace(" ","T"):t,jf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Oo{constructor(e,n,r={},s=Ul){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xc||(xc={}));class Zr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Zr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),y=d.filter(k=>v.indexOf(k.presence_ref)<0),w=h.filter(k=>m.indexOf(k.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _c;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_c||(_c={}));var es;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(es||(es={}));var $t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class tu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Oo(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Zr(this),this.broadcastEndpointURL=jf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e($t.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e($t.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e($t.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,f=[];for(let p=0;p<k;p++){const g=w[p],{filter:{event:_,schema:E,table:b,filter:S}}=g,N=v&&v[p];if(N&&N.event===_&&N.schema===E&&N.table===b&&N.filter===S)f.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e($t.SUBSCRIBED);return}}).receive("error",v=>{this.state=pe.errored,e==null||e($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pe.joined&&e===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Oo(this,pt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Oo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ng){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=pt;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,k;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(w=v.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,k,f,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,E=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(p=(f=v==null?void 0:v.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:w,table:k,commit_timestamp:f,type:p,errors:g}=y;m=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:f,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(m,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&tu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wc(e.columns,e.old_record)),n}}const $o=()=>{},Js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ag=[1e3,2e3,5e3,1e4],Mg=1e4,zg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ug{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ul,this.transport=null,this.heartbeatIntervalMs=Js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$o,this.ref=0,this.reconnectTimer=null,this.logger=$o,this.conn=null,this.sendBuffer=[],this.serializer=new Tg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>js(async()=>{const{default:l}=await Promise.resolve().then(()=>jr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dl.websocket}`,this.httpEndpoint=jf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Eg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return jn.Connecting;case Xr.open:return jn.Open;case Xr.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new tu(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Cg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:jg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ul,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Js.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:$o,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>Ag[h-1]||Mg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class nu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Dg extends nu{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bl extends nu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bg=()=>Fg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield js(()=>Promise.resolve().then(()=>jr),void 0)).Response:Response}),Wl=t=>{if(Array.isArray(t))return t.map(n=>Wl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Wl(r)}),e},Wg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Un=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vg=(t,e,n)=>Un(void 0,void 0,void 0,function*(){const r=yield Bg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Dg(Ao(s),i,o))}).catch(s=>{e(new Bl(Ao(s),s))}):e(new Bl(Ao(t),t))}),qg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Wg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Cs(t,e,n,r,s,i){return Un(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,qg(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Vg(a,l,r))})})}function $i(t,e,n,r){return Un(this,void 0,void 0,function*(){return Cs(t,"GET",e,n,r)})}function bt(t,e,n,r,s){return Un(this,void 0,void 0,function*(){return Cs(t,"POST",e,r,s,n)})}function Vl(t,e,n,r,s){return Un(this,void 0,void 0,function*(){return Cs(t,"PUT",e,r,s,n)})}function Hg(t,e,n,r){return Un(this,void 0,void 0,function*(){return Cs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Cf(t,e,n,r,s){return Un(this,void 0,void 0,function*(){return Cs(t,"DELETE",e,r,s,n)})}var Oe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Kg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ef(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?Vl:bt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:kc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Vl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new nu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}update(e,n,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Oe(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}download(e,n){return Oe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield $i(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}info(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield $i(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}exists(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Hg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r)&&r instanceof Bl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}list(e,n,r){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kg),n),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}listV2(e,n){return Oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Jg="2.12.1",Qg={"X-Client-Info":`storage-js/${Jg}`};var Bn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Yg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Qg),n),this.fetch=Ef(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bn(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Bn(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Bn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Bn(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Bn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Bn(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}}class Xg extends Yg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Gg(this.url,this.headers,e,this.fetch)}}const Zg="2.57.4";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const ev={"X-Client-Info":`supabase-js-${Br}/${Zg}`},tv={headers:ev},nv={schema:"public"},rv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sv={};var iv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const ov=t=>{let e;return t?e=t:typeof fetch>"u"?e=hf:e=fetch,(...n)=>e(...n)},lv=()=>typeof Headers>"u"?ff:Headers,av=(t,e,n)=>{const r=ov(n),s=lv();return(i,o)=>iv(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var uv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function cv(t){return t.endsWith("/")?t:t+"/"}function dv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uv(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function hv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nf="2.71.1",Kn=30*1e3,ql=3,Mo=ql*Kn,fv="http://localhost:9999",pv="supabase.auth.token",mv={"X-Client-Info":`gotrue-js/${Nf}`},Hl="X-Supabase-Api-Version",Tf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vv=10*60*1e3;class ru extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yv extends ru{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wv(t){return O(t)&&t.name==="AuthApiError"}class Pf extends ru{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yn extends ru{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Jt extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xv(t){return O(t)&&t.name==="AuthSessionMissingError"}class Qs extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends yn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _v(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sc extends yn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kl extends yn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zo(t){return O(t)&&t.name==="AuthRetryableFetchError"}class bc extends yn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gl extends yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),kv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=-2;for(let e=0;e<Ai.length;e+=1)t[Ai[e].charCodeAt(0)]=e;return t})();function Ec(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ai[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ai[r]),e.queuedBits-=6}}function Rf(t,e,n){const r=kv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{jv(o,r,n)};for(let o=0;o<t.length;o+=1)Rf(t.charCodeAt(o),s,i);return e.join("")}function Sv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Sv(r,e)}}function jv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ev(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Rf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Cv(t){const e=[];return bv(t,n=>e.push(n)),new Uint8Array(e)}function Nv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ec(s,n,r)),Ec(null,n,r),e.join("")}function Tv(t){return Math.round(Date.now()/1e3)+t}function Pv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",xn={tested:!1,writable:!1},Lf=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function Rv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const If=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>js(async()=>{const{default:r}=await Promise.resolve().then(()=>jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Lv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_n=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gt=async(t,e)=>{await t.removeItem(e)};class so{constructor(){this.promise=new so.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}so.promiseConstructor=Promise;function Uo(t){const e=t.split(".");if(e.length!==3)throw new Gl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gv.test(e[r]))throw new Gl("JWT not in base64url format");return{header:JSON.parse(Cc(e[0])),payload:JSON.parse(Cc(e[1])),signature:Ev(e[2]),raw:{header:e[0],payload:e[1]}}}async function Iv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ov(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function $v(t){return("0"+t.toString(16)).substr(-2)}function Av(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,$v).join("")}async function Mv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function zv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Mv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wn(t,e,n=!1){const r=Av();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Gn(t,`${e}-code-verifier`,s);const i=await zv(r);return[i,r===i?"plain":"s256"]}const Uv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dv(t){const e=t.headers.get(Hl);if(!e||!e.match(Uv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(t){if(!Wv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nc(t){return JSON.parse(JSON.stringify(t))}var Vv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qv=[502,503,504];async function Tc(t){var e;if(!Lv(t))throw new Kl(bn(t),0);if(qv.includes(t.status))throw new Kl(bn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Pf(bn(i),i)}let r;const s=Dv(t);if(s&&s.getTime()>=Tf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bc(bn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bc(bn(n),t.status,n.weak_password.reasons);throw new yv(bn(n),t.status||500,r)}const Hv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Hl]||(i[Hl]=Tf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Kv(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Kv(t,e,n,r,s,i){const o=Hv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new Kl(bn(a),0)}if(l.ok||await Tc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Tc(a)}}function It(t){var e;let n=null;Yv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Tv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Pc(t){const e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function en(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gv(t){return{data:t,error:null}}function Jv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Vv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Qv(t){return t}function Yv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fo=["global","local","others"];var Xv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Zv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=If(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Fo[0]){if(Fo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:en})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Xv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:en})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qv});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Vn(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:en})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Vn(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:en})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Vn(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:en})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Vn(e.userId);try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Vn(e.userId),Vn(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Rc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ey(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qn={debug:!!(globalThis&&Lf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ty extends Of{}async function ny(t,e,n){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ty(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ey();const ry={url:fv,storageKey:pv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lc(t,e,n){return await n()}const Hn={};class ys{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ry),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=If(s.fetch),this.lock=s.lock||Lc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ny:this.lock=Lc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Hn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Hn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Rv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_v(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?{error:n}:{error:new Pf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:It}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Wn(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:It})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:It})}else throw new Ys("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pc})}else throw new Ys("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,m,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:k,wallet:f,statement:p,options:g}=e;let _;if(dt())if(typeof f=="object")_=f;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=f}const E=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:k,error:f}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Nv(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:It});if(f)throw f;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Qs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:f})}catch(k){if(O(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await _n(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:It});if(await Gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:It}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Qs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Wn(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ys("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:It});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Wn(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Gv})}catch(i){if(O(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Jt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ys("You must provide either an email or phone number and a type")}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Mo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await _n(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Do()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:en}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:en})})}catch(n){if(O(n))return xv(n)&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Jt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Wn(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:en});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(O(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Jt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!dt())throw new Xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new Xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const v=m-d;v*1e3<=Kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const f={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(wv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Pv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Wn(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(O(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ov(async s=>(s>0&&await Iv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:It})),(s,i)=>{const o=200*Math.pow(2,s);return i&&zo(i)&&Date.now()+o-r<Kn})}catch(r){if(this._debug(n,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await _n(this.storage,this.storageKey);if(s&&this.userStorage){let o=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Gn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Do()}else if(s&&!s.user&&!s.user){const o=await _n(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Gt(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,s)):s.user=Do()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Mo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),zo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new so;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const o={session:null,error:i};return zo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Nc(s);await Gn(this.storage,this.storageKey,i)}else{const s=Nc(n);await Gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gt(this.storage,this.storageKey),await Gt(this.storage,this.storageKey+"-code-verifier"),await Gt(this.storage,this.storageKey+"-user"),this.userStorage&&await Gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kn}ms, refresh threshold is ${ql} ticks`),s<=ql&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Of)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Uo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+vv>s)return r;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Uo(r);n!=null&&n.allowExpired||Fv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Bv(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Cv(`${l}.${a}`)))throw new Gl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}}ys.nextInstanceID=0;const sy=ys;class iy extends sy{constructor(e){super(e)}}var oy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class ly{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=hv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:nv,realtime:sv,auth:Object.assign(Object.assign({},rv),{storageKey:a}),global:tv},d=dv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=av(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kg(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Xg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return oy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iy({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ug(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ay=(t,e,n)=>new ly(t,e,n);function uy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cy="https://jbqaznerntjlbdhcmodj.supabase.co",dy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpicWF6bmVybnRqbGJkaGNtb2RqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMjIzOTksImV4cCI6MjA3NzY5ODM5OX0.BH2xhvB9EsNqQbKpZV3JErtjNL0TKdNOe7DKj0VQ2pU",qe=ay(cy,dy);function wn(){const t=localStorage.getItem("client_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("client_id",e),e}const $f="user_coins",Af="last_daily_at",Mf="owned_skins",zf="equipped_skin";function Re(){const t=localStorage.getItem($f);return t?parseInt(t,10):0}function su(t){localStorage.setItem($f,t.toString())}function Dt(t){const n=Re()+t;return su(n),Bf(),n}function iu(t){const e=Re();return e<t?!1:(su(e-t),Bf(),!0)}function Uf(){return localStorage.getItem(Af)}function Df(t){localStorage.setItem(Af,t)}function Ff(){const t=Uf();if(!t)return!0;const e=new Date(t),n=new Date,r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())).getTime()>r.getTime()}function hy(){if(!Ff())return 0;const t=new Date,e=`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`;return Df(e),Dt(50)}function fy(){const t=localStorage.getItem(Mf);return t?JSON.parse(t):[]}function py(t){localStorage.setItem(Mf,JSON.stringify(t))}function my(){return localStorage.getItem(zf)}async function Bf(){try{const t=wn(),e=Re(),n=fy(),r=my(),s=Uf();await qe.from("profiles").upsert({client_id:t,coins:e,owned_skins:n,equipped_skin:r,last_daily_at:s,current_world:1,current_level:1,worlds_completed:0,updated_at:new Date().toISOString()})}catch(t){console.error("[syncToSupabase] Error:",t)}}async function gy(){try{const t=wn(),{data:e,error:n}=await qe.from("profiles").select("*").eq("client_id",t).maybeSingle();if(n){console.error("[loadFromSupabase] Error:",n);return}e&&(su(e.coins),py(e.owned_skins||[]),e.equipped_skin&&localStorage.setItem(zf,e.equipped_skin),e.last_daily_at&&Df(e.last_daily_at))}catch(t){console.error("[loadFromSupabase] Exception:",t)}}const vy=[{id:"small",coins:500,price:1,priceLabel:"1"},{id:"medium",coins:2e3,price:2.5,priceLabel:"2,50",popular:!0,bonus:500},{id:"large",coins:1e4,price:6,priceLabel:"6",bonus:2e3}];function Wf({onClose:t}){const[e,n]=x.useState(null),[r,s]=x.useState(!1),[i,o]=x.useState(Re());x.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("payment"),h=c.get("coins");if(d==="success"&&h){Dt(parseInt(h,10)),o(Re());const m=new URL(window.location.href);m.searchParams.delete("payment"),m.searchParams.delete("coins"),window.history.replaceState({},"",m.toString()),alert(`Pago exitoso! Se han aadido ${h} monedas a tu cuenta.`)}else if(d==="cancelled"){const m=new URL(window.location.href);m.searchParams.delete("payment"),window.history.replaceState({},"",m.toString())}},[]);const l=c=>{n(c)},a=async()=>{if(e){s(!0);try{console.log("=== INICIO DE COMPRA ==="),console.log("Paquete seleccionado:",e),console.log("URL:","https://jbqaznerntjlbdhcmodj.supabase.co"),console.log("Anon Key:","Presente"),console.log("========================");const c=await fetch("https://jbqaznerntjlbdhcmodj.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpicWF6bmVybnRqbGJkaGNtb2RqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMjIzOTksImV4cCI6MjA3NzY5ODM5OX0.BH2xhvB9EsNqQbKpZV3JErtjNL0TKdNOe7DKj0VQ2pU","Content-Type":"application/json"},body:JSON.stringify({packageId:e.id,coins:e.coins+(e.bonus||0),price:Math.round(e.price*100)})}),d=await c.json();if(console.log("=== DIAGNSTICO DE PAGO ==="),console.log("Status:",c.status),console.log("Response:",d),console.log("==========================="),!c.ok){console.error("Error response:",d),alert(`Error: ${d.error||"Error al procesar el pago"}

Revisa la consola para ms detalles.`);return}d.url?window.location.href=d.url:alert("Error al procesar el pago. Por favor, intenta de nuevo.")}catch(c){console.error("Error al crear checkout:",c),alert("Error al conectar con el servidor de pagos.")}finally{s(!1)}}};return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[u.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-6 max-w-2xl w-full shadow-2xl animate-scale-in relative my-auto max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(bs,{size:28})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"inline-block relative mb-4",children:[u.jsx("div",{className:"text-6xl",children:""}),u.jsx(wt,{className:"absolute -top-2 -right-2 text-yellow-500 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:"Tienda de Monedas"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Mejora tu experiencia con monedas adicionales"}),u.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-md",children:[u.jsx(it,{className:"text-yellow-500",size:20}),u.jsxs("span",{className:"font-bold text-gray-800",children:["Saldo actual: ",i]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:vy.map(c=>u.jsxs("button",{onClick:()=>l(c),className:`relative p-6 rounded-2xl transition-all transform ${(e==null?void 0:e.id)===c.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-105 shadow-2xl":"bg-white hover:scale-105 shadow-lg"}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MS POPULAR"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:`text-5xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-yellow-500"}`,children:c.coins.toLocaleString()}),c.bonus&&u.jsxs("div",{className:`text-sm font-semibold ${(e==null?void 0:e.id)===c.id?"text-yellow-100":"text-green-600"}`,children:["+",c.bonus," BONUS"]})]}),u.jsxs("div",{className:`flex items-center justify-center gap-1 mb-2 ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-600"}`,children:[u.jsx(it,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]}),u.jsx("div",{className:`text-3xl font-black ${(e==null?void 0:e.id)===c.id?"text-white":"text-gray-800"}`,children:c.priceLabel}),(e==null?void 0:e.id)===c.id&&u.jsx("div",{className:"mt-3 text-white text-sm font-semibold",children:" Seleccionado"})]},c.id))}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[u.jsx(wt,{className:"text-yellow-500",size:20}),"Por qu comprar monedas?"]}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("li",{children:" Desbloquea skins exclusivos para tus cartas"}),u.jsx("li",{children:" Usa power-ups para ayuda adicional en niveles difciles"}),u.jsx("li",{children:" Personaliza tu experiencia de juego"}),u.jsx("li",{children:" Progresa ms rpido en tu aventura"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:t,className:"px-6 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(Ha,{size:20}),"Volver"]}),u.jsx("button",{onClick:a,disabled:!e||r,className:`flex-1 py-4 rounded-2xl font-black text-xl shadow-lg transition-all ${e&&!r?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(z0,{size:24}),e?`Pagar ${e.priceLabel}`:"Selecciona un paquete"]})})]}),u.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Pago seguro procesado por Stripe"})]}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Ic=["world-1","world-2","world-3","world-4","world-5","world-6","world-7","world-8","world-9","world-10"];async function yy(t){try{const e=wn(),{data:n,error:r}=await qe.from("world_progress").select("purchased, levels").eq("client_id",e).eq("world_id",t).maybeSingle();if(r)throw r;return n?{purchased:!!n.purchased,levels:n.levels||[]}:null}catch(e){return console.error("Error reading world from Supabase:",e),xy(t)}}async function wy(t,e){try{const n=wn(),{error:r}=await qe.from("world_progress").upsert({client_id:n,world_id:t,purchased:e.purchased,levels:e.levels,updated_at:new Date().toISOString()},{onConflict:"client_id,world_id"});if(r)throw r;Oc(t,e)}catch(n){console.error("Error writing world to Supabase:",n),Oc(t,e)}}function xy(t){const e=localStorage.getItem(`progress.${t}`);return e?JSON.parse(e):null}function Oc(t,e){localStorage.setItem(`progress.${t}`,JSON.stringify(e))}async function Dn(t){return await yy(t)}async function io(t,e){await wy(t,e)}async function Vf(t,e){var i;const n=await Dn(t);if(n&&((i=n.levels)==null?void 0:i.length)>=e)return;const r=Array.from({length:e},(o,l)=>({unlocked:t==="world-1"?!0:l===0,completed:!1,stars:0})),s={purchased:(n==null?void 0:n.purchased)??t==="world-1",levels:r};await io(t,s)}async function qf(t){const e=await Dn(t);return!!(e!=null&&e.purchased)}async function Hf(t){const e=await Dn(t);return e?e.levels.length>0&&e.levels.every(n=>n.completed===!0):!1}async function _y(t){if(t==="world-1"||await qf(t))return!0;const e=Ic.indexOf(t);if(e<=0)return!0;const n=Ic[e-1];return await Hf(n)}async function Kf(t,e){const n=await Dn(t)??{purchased:!1,levels:[]};return n.purchased?{ok:!0}:iu(e)?(n.purchased=!0,n.levels.length?n.levels[0].unlocked=!0:n.levels=[{unlocked:!0,completed:!1,stars:0}],await io(t,n),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function ky(t,e,n){if(e<1)return{ok:!1,reason:"Nivel invlido"};if(e===1)return{ok:!0};const r=await Dn(t);if(!r)return{ok:!1,reason:"Mundo no encontrado"};const s=e-1;if(s>=r.levels.length)return{ok:!1,reason:"Nivel inexistente"};const i=r.levels[s];return i.unlocked?{ok:!0}:iu(n)?(i.unlocked=!0,await io(t,r),{ok:!0}):{ok:!1,reason:"No tienes suficientes monedas"}}async function Sy(t,e,n=0){const r=await Dn(t);if(!r)throw new Error("World not found");const s=e-1,i=r.levels[s];if(!i)throw new Error("Level not found");i.completed=!0,i.stars=Math.max(i.stars,Math.max(0,Math.min(3,n)));const o=r.levels[s+1];o&&!o.unlocked&&(o.unlocked=!0),await io(t,r)}async function by(t){return await Dn(t)??{purchased:!1,levels:[]}}function jy(t){return`world-${Math.ceil(t/5)}`}function Ey(t){return(t-1)%5+1}const Mi={"world-1":0,"world-2":300,"world-3":500,"world-4":700,"world-5":1e3,"world-6":1500,"world-7":2e3,"world-8":2500,"world-9":3e3,"world-10":4e3},$c=100,Cy=[Ja,Ka,Ga,Ya,Xa,df,uf,af,wt,lf],Ny=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],Ty=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}],Py=({onClose:t,onSkinChanged:e})=>{const[n,r]=x.useState(Re()),[s,i]=x.useState({1:!0}),[o,l]=x.useState(!0),[a,c]=x.useState(null),[d,h]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const w={1:!0};for(let k=2;k<=10;k++){const f=await qf(`world-${k}`);w[k]=f}i(w)}catch(w){console.error("Error loading worlds:",w)}finally{l(!1)}})()},[]);const m=async y=>{if(a)return;const w=`world-${y}`,k=Mi[w];if(n<k){alert("No tienes suficientes monedas");return}c(y);try{const f=await Kf(w,k);f.ok?(r(Re()),i({...s,[y]:!0})):alert(f.reason)}catch(f){console.error("Error en compra:",f)}finally{c(null)}},v=Object.values(s).filter(Boolean).length;return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tienda de Mundos"}),u.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(bs,{size:24})})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 mb-4",children:[u.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Desbloquea mundos para acceder a nuevos niveles y desafos."}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Al comprar un mundo, solo se desbloquea el nivel 1. Los dems niveles se desbloquean jugando."})]}),u.jsxs("div",{className:"flex gap-3 mb-4",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(it,{size:20,className:"text-white"}),u.jsx("span",{className:"text-xl font-bold text-white",children:n})]}),u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(wt,{size:20,className:"text-white"}),u.jsxs("span",{className:"text-xl font-bold text-white",children:[v,"/10"]})]})]}),u.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2",children:[u.jsx(cf,{size:20}),"Comprar Monedas"]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6,7,8,9,10].map(y=>{const w=s[y]??!1,k=Cy[y-1],f=Ty[y-1],p=`world-${y}`,g=Mi[p];return u.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${w?"border-green-500 bg-green-50":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${f.from} ${f.to}`,children:u.jsx(k,{size:32,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Mundo ",y]}),w&&u.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-bold",children:"Desbloqueado"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:Ny[y-1]}),y===1&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Gratis  5 niveles desbloqueados"}),y>1&&!w&&u.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:"Al comprar se desbloquea el nivel 1"}),!w&&y>1&&u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx(it,{size:16,className:"text-yellow-500"}),u.jsx("span",{className:"font-semibold",children:g})]}),u.jsx("div",{className:"mt-2",children:w?u.jsxs("div",{className:"text-sm text-green-600 font-semibold flex items-center gap-1",children:[u.jsx(rf,{size:16}),"Desbloqueado"]}):u.jsxs("button",{type:"button",onClick:()=>m(y),disabled:n<g||a===y,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(Qa,{size:16}),a===y?"Comprando...":"Desbloquear"]})})]})]})},y)})})}),u.jsx("button",{type:"button",onClick:t,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]}),d&&u.jsx(Wf,{onClose:()=>{h(!1),r(Re())}})]})},Gf=[{id:"default",name:"Clsico",price:0,cardBackColor:"bg-gradient-to-br from-blue-400 to-blue-600",cardBorderColor:"border-blue-300",description:"El diseo original"},{id:"gold",name:"Dorado",price:100,cardBackColor:"bg-gradient-to-br from-yellow-400 to-amber-600",cardBorderColor:"border-yellow-300",description:"Lujo y elegancia"},{id:"emerald",name:"Esmeralda",price:150,cardBackColor:"bg-gradient-to-br from-green-400 to-emerald-600",cardBorderColor:"border-green-300",description:"Naturaleza y frescura"},{id:"ruby",name:"Rub",price:180,cardBackColor:"bg-gradient-to-br from-red-400 to-rose-600",cardBorderColor:"border-red-300",description:"Pasin y energa"},{id:"midnight",name:"Medianoche",price:220,cardBackColor:"bg-gradient-to-br from-indigo-600 to-purple-800",cardBorderColor:"border-indigo-400",description:"Misterio nocturno"}];function Jl(t){return Gf.find(e=>e.id===t)}function Ac(){return Gf[0]}async function Ry(){const t=wn(),{data:e,error:n}=await qe.from("user_themes").select("owned_themes, equipped_theme").eq("client_id",t).maybeSingle();if(n)return console.error("Error fetching themes:",n),{owned_themes:["default"],equipped_theme:"default"};if(!e){const{data:r,error:s}=await qe.from("user_themes").upsert({client_id:t,owned_themes:["default"],equipped_theme:"default"},{onConflict:"client_id"}).select("owned_themes, equipped_theme").maybeSingle();return s&&console.error("Error upserting themes:",s),r||{owned_themes:["default"],equipped_theme:"default"}}return e}async function Ql(){return(await Ry()).equipped_theme||"default"}const Mc={zap:{name:"Electric Zap",url:"/sounds/zap.wav",volume:.6},flipPop:{name:"Card Flip",url:"/sounds/flip_pop.wav",volume:.4},countdownClick:{name:"Countdown Tick",url:"/sounds/countdown_click.wav",volume:.5},confetti:{name:"Victory Confetti",url:"/sounds/confetti.wav",volume:.7},loop:{name:"Background Loop",url:"/sounds/loop_150bpm.wav",volume:.3}};let Ly=class{constructor(){this.sounds=new Map,this.enabled=!0,this.bgmLoop=null,this.preloadSounds()}preloadSounds(){Object.entries(Mc).forEach(([e,n])=>{try{const r=new Audio(n.url);r.volume=n.volume||.5,r.preload="auto",this.sounds.set(e,r)}catch(r){console.warn(`Failed to preload sound: ${n.name}`,r)}})}play(e){if(!this.enabled)return;const n=this.sounds.get(e);if(n)try{n.currentTime=0,n.play().catch(r=>{console.warn(`Failed to play sound: ${e}`,r)})}catch(r){console.warn(`Error playing sound: ${e}`,r)}}playZap(){this.play("zap")}playFlipPop(){this.play("flipPop")}playCountdownClick(){this.play("countdownClick")}playConfetti(){this.play("confetti")}startBackgroundLoop(){if(!this.enabled)return;const e=this.sounds.get("loop");if(e&&!this.bgmLoop)try{e.loop=!0,e.volume=.2,e.play().catch(n=>{console.warn("Failed to play background loop",n)}),this.bgmLoop=e}catch(n){console.warn("Error starting background loop",n)}}stopBackgroundLoop(){if(this.bgmLoop)try{this.bgmLoop.pause(),this.bgmLoop.currentTime=0,this.bgmLoop=null}catch(e){console.warn("Error stopping background loop",e)}}setEnabled(e){this.enabled=e,e||this.stopBackgroundLoop()}isEnabled(){return this.enabled}setVolume(e,n){const r=this.sounds.get(e);r&&(r.volume=Math.max(0,Math.min(1,n)))}setMasterVolume(e){const n=Math.max(0,Math.min(1,e));this.sounds.forEach(r=>{const s=Object.entries(Mc).find(([,i])=>i.url===r.src.split("/").pop());s&&(r.volume=(s[1].volume||.5)*n)})}};const ou=new Ly,Iy=()=>ou.playZap(),Oy=()=>ou.playFlipPop(),$y=()=>ou.playConfetti();class Ay{constructor(){this.startMusicTrack=null,this.currentLevelTrack=null,this.levelTracks=new Map,this.matchSfx=null,this.winSfx=null,this.loseSfx=null,this.muted=!1,this.masterVolume=1,this.userInteracted=!1,this.loadSettings(),this.preloadAudio(),this.setupUserInteractionListener()}loadSettings(){try{const e=localStorage.getItem("sound.muted"),n=localStorage.getItem("sound.volume");if(e!==null&&(this.muted=e==="true"),n!==null){const r=parseFloat(n);isNaN(r)||(this.masterVolume=Math.max(0,Math.min(1,r)))}}catch(e){console.warn("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("sound.muted",String(this.muted)),localStorage.setItem("sound.volume",String(this.masterVolume))}catch(e){console.warn("Error saving sound settings:",e)}}setupUserInteractionListener(){const e=()=>{this.userInteracted=!0,document.removeEventListener("click",e),document.removeEventListener("keypress",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keypress",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}preloadAudio(){try{this.startMusicTrack=new Audio("/audio/start_theme.mp3"),this.startMusicTrack.loop=!0,this.startMusicTrack.preload="auto";for(let e=1;e<=5;e++){const n=new Audio(`/audio/level_${e}.mp3`);n.loop=!0,n.preload="auto",this.levelTracks.set(e,n)}this.matchSfx=new Audio("/audio/match.wav"),this.matchSfx.preload="auto",this.winSfx=new Audio("/audio/win.wav"),this.winSfx.preload="auto",this.loseSfx=new Audio("/audio/lose.wav"),this.loseSfx.preload="auto",this.applyVolume()}catch(e){console.warn("Error preloading audio:",e)}}applyVolume(){const e=this.muted?0:this.masterVolume;this.startMusicTrack&&(this.startMusicTrack.volume=e),this.levelTracks.forEach(n=>{n.volume=e}),this.matchSfx&&(this.matchSfx.volume=e),this.winSfx&&(this.winSfx.volume=e),this.loseSfx&&(this.loseSfx.volume=e)}async crossFade(e,n){const o=this.muted?0:this.masterVolume;for(let l=20;l>=0;l--)e.volume=l/20*o,await new Promise(a=>setTimeout(a,15));e.pause(),e.currentTime=0,n.volume=0;try{await n.play();for(let l=0;l<=20;l++)n.volume=l/20*o,await new Promise(a=>setTimeout(a,15))}catch(l){console.warn("Error during crossfade:",l)}}async playSafely(e){if(!this.userInteracted){console.warn("Cannot play audio before user interaction");return}try{e.currentTime=0,await e.play()}catch(n){console.warn("Error playing audio:",n)}}playStartMusic(){if(!(!this.startMusicTrack||!this.userInteracted))try{this.playSafely(this.startMusicTrack)}catch(e){console.warn("Error playing start music:",e)}}stopStartMusic(){if(this.startMusicTrack)try{this.startMusicTrack.pause(),this.startMusicTrack.currentTime=0}catch(e){console.warn("Error stopping start music:",e)}}playLevelMusic(e){if(!this.userInteracted)return;const n=this.levelTracks.get(e);if(!n){console.warn(`Level ${e} music not found`);return}try{this.currentLevelTrack&&!this.currentLevelTrack.paused?this.crossFade(this.currentLevelTrack,n):(n.volume=this.muted?0:this.masterVolume,this.playSafely(n)),this.currentLevelTrack=n}catch(r){console.warn(`Error playing level ${e} music:`,r)}}stopLevelMusic(){if(this.currentLevelTrack)try{this.currentLevelTrack.pause(),this.currentLevelTrack.currentTime=0,this.currentLevelTrack=null}catch(e){console.warn("Error stopping level music:",e)}}playMatch(){!this.matchSfx||!this.userInteracted||this.playSafely(this.matchSfx)}playWin(){!this.winSfx||!this.userInteracted||this.playSafely(this.winSfx)}playLose(){!this.loseSfx||!this.userInteracted||this.playSafely(this.loseSfx)}mute(){this.muted=!0,this.applyVolume(),this.saveSettings()}unmute(){this.muted=!1,this.applyVolume(),this.saveSettings()}toggleMute(){this.muted?this.unmute():this.mute()}isMuted(){return this.muted}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.applyVolume(),this.saveSettings()}getMasterVolume(){return this.masterVolume}}const Ge=new Ay,My=({onStartGame:t,onStartDailyChallenge:e,onStartDuel:n})=>{const[r,s]=x.useState(!1),[i,o]=x.useState(0),[l,a]=x.useState(!1),[c,d]=x.useState("Clsico"),h=x.useRef(!1);x.useEffect(()=>{gy().then(()=>{o(Re()),Ff()&&a(!0)}),Ql().then(y=>{const w=Jl(y);w&&d(w.name)}),h.current||(setTimeout(()=>{Iy(),Ge.playStartMusic()},300),h.current=!0)},[]);const m=()=>{const y=hy();o(y),a(!1)},v=()=>{s(!1),o(Re()),Ql().then(y=>{const w=Jl(y);w&&d(w.name)})};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/twinlogo.png",alt:"Twin Clash",style:{width:"75%",maxWidth:"420px",margin:"0 auto"}})}),u.jsx("p",{className:"text-center text-gray-600 mb-6 text-sm font-medium",children:"Encuentra todas las parejas antes de que se acabe el tiempo"}),u.jsxs("div",{className:"flex gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-3 flex items-center justify-center gap-2",children:[u.jsx(it,{size:20,className:"text-white"}),u.jsx("span",{className:"text-lg font-bold text-white",children:i})]}),u.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl p-3 flex items-center justify-center gap-2 hover:shadow-lg transition-all cursor-pointer",children:[u.jsx(B0,{size:20,className:"text-white"}),u.jsx("span",{className:"text-sm font-bold text-white",children:c})]})]}),u.jsxs("button",{type:"button",onClick:()=>s(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2 mb-6",children:[u.jsx(cf,{size:20}),"Tienda de Mundos"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Empezar a Jugar (10 Mundos)"}),u.jsxs("button",{type:"button",onClick:e,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(M0,{size:20}),"Reto Diario"]}),u.jsxs("button",{type:"button",onClick:n,className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[u.jsx(K0,{size:20}),"Duelo 1v1"]})]})]}),r&&u.jsx(Py,{onClose:v,onSkinChanged:()=>{}}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:u.jsx(U0,{size:64,className:"mx-auto text-yellow-500"})}),u.jsx("h3",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"Recompensa Diaria!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Reclama tus monedas gratis"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(it,{size:32,className:"text-white"}),u.jsx("span",{className:"text-4xl font-bold text-white",children:"+50"})]})}),u.jsx("button",{type:"button",onClick:m,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reclamar"})]})})]})},Jf=({card:t,image:e,onClick:n,disabled:r,showHint:s=!1})=>{const[i,o]=x.useState(Ac());x.useEffect(()=>{const a=async()=>{const d=await Ql(),h=Jl(d)||Ac();o(h)};a();const c=()=>{a()};return window.addEventListener("themeChanged",c),()=>window.removeEventListener("themeChanged",c)},[]);const l=()=>{!r&&!t.isFlipped&&!t.isMatched&&(Oy(),n(t.id))};return u.jsx("div",{className:"relative aspect-square cursor-pointer perspective-1000",onClick:l,children:u.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${t.isFlipped||t.isMatched?"rotate-y-180":""} ${s?"hint-pulse":""}`,children:[u.jsx("div",{className:"absolute w-full h-full backface-hidden",children:u.jsxs("div",{className:`w-full h-full ${i.cardBackColor} rounded-xl shadow-lg flex items-center justify-center border-4 ${i.cardBorderColor} ${s?"ring-4 ring-yellow-400 ring-opacity-75":""}`,children:[u.jsx("div",{className:"text-4xl text-white font-bold",children:"?"}),s&&u.jsx("div",{className:"absolute inset-0 rounded-xl border-4 border-yellow-400 animate-ping opacity-75"})]})}),u.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:u.jsx("div",{className:`w-full h-full bg-white rounded-xl shadow-lg flex items-center justify-center border-4 ${i.cardBorderColor} overflow-hidden`,children:u.jsx("div",{className:"text-6xl",children:e})})})]})})};function Qf(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get("crew")}function zy(t){if(typeof window>"u")return;const e=new URL(window.location.href);e.searchParams.set("crew",t),window.history.replaceState({},"",e.toString())}async function Uy(t){try{const{data:e,error:n}=await qe.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);return n?(console.error("[checkIfPioneer] Error:",n),!1):((e==null?void 0:e.length)??0)===0}catch(e){return console.error("[checkIfPioneer] Exception:",e),!1}}async function Dy(t){try{const{data:e,error:n}=await qe.from("scores").select("id",{count:"exact",head:!0}).eq("seed",t).eq("is_bot",!1);if(n){console.error("[seedBotsIfEmpty] Error checking:",n);return}if(((e==null?void 0:e.length)??0)>0)return;const s=[23e3,27e3,31e3,35e3,4e4].map((o,l)=>({seed:t,time_ms:o,moves:10+l,client_id:`bot-${t}-${l}`,display_name:`CPU Kiwi #${l+1}`,is_bot:!0})),{error:i}=await qe.from("scores").insert(s);i&&console.error("[seedBotsIfEmpty] Error inserting bots:",i)}catch(e){console.error("[seedBotsIfEmpty] Exception:",e)}}async function Fy({seed:t,timeMs:e,moves:n,crewId:r=null,displayName:s=null}){try{const i=await Uy(t),o=wn(),{error:l}=await qe.from("scores").insert({seed:t,time_ms:e,moves:n,client_id:o,crew_id:r,display_name:s,is_bot:!1});return l?(console.error("[submitScoreAndReward] Error:",l),{success:!1,isPioneer:!1}):(i&&Dt(20),{success:!0,isPioneer:i})}catch(i){return console.error("[submitScoreAndReward] Exception:",i),{success:!1,isPioneer:!1}}}async function By({seed:t,limit:e=20}){try{await Dy(t);const{data:n,error:r}=await qe.from("scores").select("*").eq("seed",t).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(e);return r?(console.error("[getTop] Error:",r),[]):n||[]}catch(n){return console.error("[getTop] Exception:",n),[]}}async function Wy({seed:t,crewId:e,limit:n=20}){try{if(!e)return[];const{data:r,error:s}=await qe.from("scores").select("*").eq("seed",t).eq("crew_id",e).eq("is_bot",!1).order("time_ms",{ascending:!0}).order("moves",{ascending:!0}).limit(n);return s?(console.error("[getCrewTop] Error:",s),[]):r||[]}catch(r){return console.error("[getCrewTop] Exception:",r),[]}}const Vy=({seed:t,onClose:e,onPlayNow:n})=>{const[r,s]=x.useState([]),[i,o]=x.useState([]),[l,a]=x.useState(!0),[c,d]=x.useState(!1),h=wn(),m=Qf();x.useEffect(()=>{(async()=>{a(!0);const k=await By({seed:t,limit:20});if(s(k),m){const f=await Wy({seed:t,crewId:m,limit:20});o(f)}a(!1)})()},[t,m]);const v=c&&m?i:r,y=r.some(w=>!w.is_bot);return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(rn,{className:"text-yellow-500",size:28}),c?"Top Amigos":"Top Diario"]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(bs,{size:24})})]}),u.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Reto: ",t]}),m&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>d(!1),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-yellow-500 text-white"}`,children:[u.jsx(rn,{size:16,className:"inline mr-1"}),"Global"]}),u.jsxs("button",{onClick:()=>d(!0),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-colors ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Ml,{size:16,className:"inline mr-1"}),"Amigos"]})]}),l?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):v.length===0?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6",children:[u.jsx(rn,{size:64,className:"mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c?"Sin marcas de amigos":"Sin marcas para hoy"}),u.jsx("p",{className:"text-gray-600 mb-4",children:c?"Comparte el enlace con tu crew para competir juntos":"S el primero y desbloquea la medalla Pionero! (+20 monedas)"}),n&&!c&&u.jsx("button",{onClick:()=>{e(),n()},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Jugar ahora"})]})}):u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!y&&!c&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[u.jsx(wt,{size:16}),u.jsx("span",{className:"font-semibold",children:"Marcas de prueba"})]}),u.jsx("p",{className:"text-blue-600 text-xs",children:"S el primero en jugar hoy y gana +20 monedas con la medalla Pionero!"})]}),u.jsx("div",{className:"space-y-2",children:v.map((w,k)=>{const f=w.client_id===h,p=w.is_bot,g=k+1,_=g===1?"text-yellow-500":g===2?"text-gray-400":g===3?"text-amber-600":"text-gray-400";return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${f?"bg-blue-50 border-2 border-blue-300":p?"bg-gray-50 opacity-75":"bg-gray-50"}`,children:[u.jsx("div",{className:`text-2xl font-bold ${_} w-8 text-center`,children:g<=3?u.jsx(rn,{size:24,className:"inline"}):g}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[p&&u.jsx("span",{className:"text-xs",children:""}),w.display_name&&u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:w.display_name}),p&&u.jsx("span",{className:"text-xs text-gray-500",children:"(Prueba)"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(sf,{size:14,className:"text-blue-500"}),u.jsxs("span",{className:"font-semibold",children:[(w.time_ms/1e3).toFixed(1),"s"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(F0,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"font-semibold",children:w.moves})]})]}),f&&u.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"T!"})]}),!p&&u.jsx("div",{className:"text-xs text-gray-400",children:new Date(w.created_at).toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"})})]},w.id)})})]}),u.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Cerrar"})]})})};function qy({onPowerUpUsed:t,disabled:e}){const[n,r]=x.useState(Re()),[s,i]=x.useState(null),o=(c,d)=>{i(c)},l=(c,d)=>{iu(d)?(r(Re()),t(c),i(null)):alert("No tienes suficientes monedas!")},a=()=>{i(null)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsxs("button",{onClick:()=>o(20),disabled:e||n<100,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<100?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(G0,{size:16}),u.jsx("span",{children:"20%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(it,{size:12}),u.jsx("span",{children:"100"})]})]}),u.jsxs("button",{onClick:()=>o(40),disabled:e||n<200,className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm shadow-lg transition-all ${e||n<200?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-600 text-white hover:scale-105 active:scale-95"}`,children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(wt,{size:16}),u.jsx("span",{children:"40%"})]}),u.jsxs("div",{className:"text-xs flex items-center justify-center gap-1 mt-1",children:[u.jsx(it,{size:12}),u.jsx("span",{children:"200"})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center shadow-2xl animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-4",children:s===20?"":""}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Revelar ",s,"% de Parejas"]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Esta ayuda revelar automticamente algunas parejas de cartas"}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-3 mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(it,{size:24}),u.jsx("span",{className:"text-2xl font-black",children:s===20?"100":"200"}),u.jsx("span",{className:"text-sm font-semibold",children:"monedas"})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:a,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-bold hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>l(s,s===20?100:200),className:`flex-1 py-3 rounded-xl font-bold text-white transition-all ${s===20?"bg-gradient-to-r from-green-500 to-emerald-600 hover:scale-105":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:scale-105"}`,children:"Confirmar"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Tu saldo actual: ",n," monedas"]})]})}),u.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]})}const Hy=({open:t,onStay:e,onExit:n})=>{const r=x.useRef(null);return x.useEffect(()=>{var s;t&&((s=r.current)==null||s.focus())},[t]),x.useEffect(()=>{if(!t)return;const s=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quieres salir del nivel?"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{ref:r,type:"button",onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Seguir Jugando"}),u.jsx("button",{type:"button",onClick:n,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"})]})]})}):null},Ky=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(1),o=x.useRef(null);x.useEffect(()=>{const c=localStorage.getItem("sound.muted"),d=localStorage.getItem("sound.volume"),h=c==="true",m=d?Math.max(0,Math.min(1,parseFloat(d))):1;r(h),i(m);try{h?Ge.mute():Ge.unmute(),Ge.setMasterVolume(m)}catch(v){console.error("Error initializing sound:",v)}},[]),x.useEffect(()=>{if(!t)return;const c=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const l=()=>{const c=!n;r(c),localStorage.setItem("sound.muted",c?"true":"false");try{c?Ge.mute():Ge.unmute()}catch(d){console.error("Error toggling sound:",d)}},a=c=>{const d=Number(c.target.value)/100;i(d),localStorage.setItem("sound.volume",String(d));try{Ge.setMasterVolume(d)}catch(h){console.error("Error setting volume:",h)}};return u.jsxs("div",{className:"relative select-none",ref:o,children:[u.jsx("button",{type:"button","aria-label":"Ajustes de sonido",onClick:()=>e(c=>!c),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(V0,{size:20,className:"text-gray-700"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 rounded-xl shadow-2xl bg-white p-4 z-50 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sonido"}),u.jsx("button",{type:"button",onClick:l,className:`px-3 py-1 rounded-lg text-sm font-semibold transition-colors ${n?"bg-gray-200 text-gray-600":"bg-green-500 text-white"}`,children:n?"OFF":"ON"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Volumen: ",Math.round(s*100),"%"]}),u.jsx("input",{type:"range",min:0,max:100,value:Math.round(s*100),onChange:a,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500",disabled:n})]})]})]})},Gy=({open:t,onClose:e,shareText:n,shareUrl:r})=>{const[s,i]=x.useState(!1);if(!t)return null;const o=async()=>{try{await navigator.clipboard.writeText(`${n}
${r}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Error copying to clipboard:",h)}},l=()=>{const h=`https://wa.me/?text=${encodeURIComponent(`${n}
${r}`)}`;window.open(h,"_blank")},a=()=>{window.open("https://www.tiktok.com/","_blank")},c=()=>{window.open("https://www.instagram.com/","_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:"TwinClash",text:n,url:r}),e()}catch(h){console.error("Error sharing:",h)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Compartir"}),u.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(bs,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("button",{type:"button",onClick:l,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"WhatsApp"})]}),u.jsxs("button",{type:"button",onClick:c,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Instagram"})]}),u.jsxs("button",{type:"button",onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white text-2xl",children:""}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TikTok"})]})]}),u.jsx("button",{type:"button",onClick:o,className:"w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 mb-3",children:s?u.jsxs(u.Fragment,{children:[u.jsx(rf,{size:20}),"Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(of,{size:20}),"Copiar enlace"]})}),navigator.share&&u.jsx("button",{type:"button",onClick:d,className:"w-full bg-gray-500 text-white py-4 rounded-xl font-semibold hover:bg-gray-600 transition-colors",children:"Ms opciones..."})]})})},zc=10,Jy=400,_r=()=>{$y();const e=Date.now()+3e3,n=(o,l)=>Math.random()*(l-o)+o,r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],s=[],i=setInterval(()=>{if(e-Date.now()<=0){clearInterval(i),s.forEach(a=>a.remove());return}const l=50;for(let a=0;a<l;a++){const c=document.createElement("div");c.style.position="fixed",c.style.width="10px",c.style.height="10px",c.style.backgroundColor=r[Math.floor(Math.random()*r.length)],c.style.left=Math.random()*window.innerWidth+"px",c.style.top="-20px",c.style.opacity="1",c.style.borderRadius="50%",c.style.pointerEvents="none",c.style.zIndex="9999",document.body.appendChild(c),s.push(c);const d=n(0,360),h=n(10,30),m=n(-2,2);let v=parseFloat(c.style.left),y=-20,w=Math.cos(d*Math.PI/180)*h,k=Math.sin(d*Math.PI/180)*h;const f=()=>{v+=w+m,y+=k,k+=.5,c.style.left=v+"px",c.style.top=y+"px",c.style.opacity=String(Math.max(0,1-y/window.innerHeight)),y<window.innerHeight&&Date.now()<e?requestAnimationFrame(f):c.remove()};f()}},250)};function Uc(){const t=new Date,e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),r=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${r}`}function Qy(){if(typeof window>"u")return Uc();const e=new URLSearchParams(window.location.search).get("seed");return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e:Uc()}function Yy(t){let e=1779033703^t.length;for(let n=0;n<t.length;n++)e=Math.imul(e^t.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function Xy(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Yf(t){const e=Yy(t);return Xy(e())}function Zy(t,e){const n=Yf(e),r=[...t];for(let s=r.length-1;s>0;s--){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}const Xf={1:{world:1,level:1,pairs:6,timeLimit:60,theme:"nature",unlockReward:10},2:{world:1,level:2,pairs:7,timeLimit:55,theme:"nature",unlockReward:12},3:{world:1,level:3,pairs:8,timeLimit:52,theme:"nature",unlockReward:15},4:{world:1,level:4,pairs:9,timeLimit:48,theme:"nature",unlockReward:18},5:{world:1,level:5,pairs:10,timeLimit:45,theme:"nature",unlockReward:100},6:{world:2,level:1,pairs:8,timeLimit:55,theme:"sports",unlockReward:15},7:{world:2,level:2,pairs:9,timeLimit:52,theme:"sports",unlockReward:18},8:{world:2,level:3,pairs:10,timeLimit:48,theme:"sports",unlockReward:20},9:{world:2,level:4,pairs:11,timeLimit:44,theme:"sports",unlockReward:25},10:{world:2,level:5,pairs:12,timeLimit:40,theme:"sports",unlockReward:120},11:{world:3,level:1,pairs:10,timeLimit:50,theme:"arcade",unlockReward:20},12:{world:3,level:2,pairs:11,timeLimit:47,theme:"arcade",unlockReward:22},13:{world:3,level:3,pairs:12,timeLimit:44,theme:"arcade",unlockReward:25},14:{world:3,level:4,pairs:13,timeLimit:40,theme:"arcade",unlockReward:30},15:{world:3,level:5,pairs:14,timeLimit:35,theme:"arcade",unlockReward:150},16:{world:4,level:1,pairs:12,timeLimit:45,theme:"animals",unlockReward:30},17:{world:4,level:2,pairs:13,timeLimit:42,theme:"animals",unlockReward:35},18:{world:4,level:3,pairs:14,timeLimit:38,theme:"animals",unlockReward:40},19:{world:4,level:4,pairs:15,timeLimit:34,theme:"animals",unlockReward:45},20:{world:4,level:5,pairs:16,timeLimit:30,theme:"animals",unlockReward:200},21:{world:5,level:1,pairs:14,timeLimit:40,theme:"space",unlockReward:50},22:{world:5,level:2,pairs:15,timeLimit:36,theme:"space",unlockReward:60},23:{world:5,level:3,pairs:16,timeLimit:32,theme:"space",unlockReward:70},24:{world:5,level:4,pairs:17,timeLimit:28,theme:"space",unlockReward:80},25:{world:5,level:5,pairs:18,timeLimit:25,theme:"space",unlockReward:500},26:{world:6,level:1,pairs:16,timeLimit:38,theme:"ocean",unlockReward:70},27:{world:6,level:2,pairs:17,timeLimit:34,theme:"ocean",unlockReward:80},28:{world:6,level:3,pairs:18,timeLimit:30,theme:"ocean",unlockReward:90},29:{world:6,level:4,pairs:19,timeLimit:26,theme:"ocean",unlockReward:100},30:{world:6,level:5,pairs:20,timeLimit:22,theme:"ocean",unlockReward:600},31:{world:7,level:1,pairs:18,timeLimit:36,theme:"food",unlockReward:90},32:{world:7,level:2,pairs:19,timeLimit:32,theme:"food",unlockReward:100},33:{world:7,level:3,pairs:20,timeLimit:28,theme:"food",unlockReward:110},34:{world:7,level:4,pairs:21,timeLimit:24,theme:"food",unlockReward:120},35:{world:7,level:5,pairs:22,timeLimit:20,theme:"food",unlockReward:700},36:{world:8,level:1,pairs:20,timeLimit:34,theme:"music",unlockReward:110},37:{world:8,level:2,pairs:21,timeLimit:30,theme:"music",unlockReward:120},38:{world:8,level:3,pairs:22,timeLimit:26,theme:"music",unlockReward:130},39:{world:8,level:4,pairs:23,timeLimit:22,theme:"music",unlockReward:140},40:{world:8,level:5,pairs:24,timeLimit:18,theme:"music",unlockReward:800},41:{world:9,level:1,pairs:22,timeLimit:32,theme:"beauty",unlockReward:130},42:{world:9,level:2,pairs:23,timeLimit:28,theme:"beauty",unlockReward:140},43:{world:9,level:3,pairs:24,timeLimit:24,theme:"beauty",unlockReward:150},44:{world:9,level:4,pairs:25,timeLimit:20,theme:"beauty",unlockReward:160},45:{world:9,level:5,pairs:26,timeLimit:16,theme:"beauty",unlockReward:900},46:{world:10,level:1,pairs:24,timeLimit:30,theme:"tech",unlockReward:150},47:{world:10,level:2,pairs:25,timeLimit:26,theme:"tech",unlockReward:160},48:{world:10,level:3,pairs:26,timeLimit:22,theme:"tech",unlockReward:170},49:{world:10,level:4,pairs:27,timeLimit:18,theme:"tech",unlockReward:180},50:{world:10,level:5,pairs:28,timeLimit:15,theme:"tech",unlockReward:1e3}};function Tn(t){return Xf[t]}function ew(t){return Object.values(Xf).filter(e=>e.world===t).sort((e,n)=>e.level-n.level)}function Bo(t,e){return(t-1)*5+e}const Yl={nature:{name:"Naturaleza",images:["","","","","","","","","","","","","","","","","",""]},sports:{name:"Deportes",images:["","","","","","","","","","","","","","",""]},arcade:{name:"Juegos",images:["","","","","","","","","","","","","","","","","",""]},animals:{name:"Animalitos",images:["","","","","","","","","","","","","","","","","",""]},space:{name:"Espacio",images:["","","","","","","","","","","","","","","","","",""]},ocean:{name:"Ocano",images:["","","","","","","","","","","","","","","","","",""]},food:{name:"Comida",images:["","","","","","","","","","","","","","","","","",""]},music:{name:"Msica",images:["","","","","","","","","","","","","","","","","",""]},beauty:{name:"Belleza",images:["","","","","","","","","","","","","","","","","",""]},tech:{name:"Tecnologa",images:["","","","","","","","","","","","","","","","","",""]}};function Dc(t){var e;return((e=Yl[t])==null?void 0:e.images)||Yl.nature.images}function tw(t){var e;return((e=Yl[t])==null?void 0:e.name)||"Desconocido"}function nw(t){const[e,n]=x.useState(!1),r=x.useRef(!1),s=x.useRef(t.enabled);x.useEffect(()=>{s.current=t.enabled},[t.enabled]);const i=x.useCallback(()=>{n(!0),r.current=!0},[]),o=x.useCallback(()=>{n(!1),r.current=!1},[]);return x.useEffect(()=>{if(!t.enabled)return;const l=c=>{if(s.current){if(r.current){t.onConfirmExit();return}c.preventDefault(),window.history.pushState(null,"",window.location.href),i()}},a=c=>{if(s.current){if(c.preventDefault(),r.current){t.onConfirmExit();return}i()}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",l),"backbutton"in document&&document.addEventListener("backbutton",a,!1),()=>{window.removeEventListener("popstate",l),"backbutton"in document&&document.removeEventListener("backbutton",a,!1)}},[t.enabled,t.onConfirmExit,i]),{open:e,openModal:i,closeModal:o}}const Zf=({level:t,onComplete:e,onBackToMenu:n,isDailyChallenge:r=!1})=>{const s=Tn(t),[i,o]=x.useState([]),[l,a]=x.useState([]),[c,d]=x.useState(0),[h,m]=x.useState(!0),[v,y]=x.useState((s==null?void 0:s.timeLimit)||60),[w,k]=x.useState(!1),[f,p]=x.useState(0),[g,_]=x.useState(0),[E,b]=x.useState(!1),[S,N]=x.useState(null),[I]=x.useState(()=>r?Qy():`random-${Date.now()}`),[R,ye]=x.useState(!1),[Nt,xt]=x.useState(!1),[ae,Tt]=x.useState(()=>Qf()),[Ie,Ce]=x.useState(0),[C,P]=x.useState(0),[L,U]=x.useState([]),[ee,He]=x.useState(0),[et,_t]=x.useState(!1),[ut,Pt]=x.useState(!1),[oo,Ns]=x.useState(!1),[$,K]=x.useState({text:"",url:""}),W=x.useCallback(()=>{Ge.stopLevelMusic(),n()},[n]),{open:we,openModal:de,closeModal:he}=nw({enabled:!E&&!w,onConfirmExit:W,isLevelCompleted:E}),oe=x.useRef(!1),Se=x.useRef(null),V=x.useRef(null),fe=x.useRef(null),Cr=x.useRef(0),Nr=x.useRef(null),Ts=x.useCallback(()=>{console.log("[GameCore] initializeLevel",{level:t,seed:I});const z=Tn(t),G=(z==null?void 0:z.pairs)||6,Y=(z==null?void 0:z.timeLimit)||60,ue=(z==null?void 0:z.theme)||"nature",Ht=Dc(ue).slice(0,G).flatMap((H,Lt)=>[{id:Lt*2,imageIndex:Lt,isFlipped:!1,isMatched:!1},{id:Lt*2+1,imageIndex:Lt,isFlipped:!1,isMatched:!1}]),xe=r?Zy(Ht,I):Ht.sort(()=>Math.random()-.5);if(o(xe),a([]),d(0),m(!0),k(!1),y(Y),p(0),_(0),b(!1),U([]),He(0),_t(!1),Cr.current=0,V.current&&clearTimeout(V.current),V.current=window.setTimeout(()=>{m(!1)},zc*1e3),r){const H=localStorage.getItem(`best:${I}`);if(H)try{N(JSON.parse(H))}catch{N(null)}else N(null)}},[t,I,r]);x.useEffect(()=>(console.log("[GameCore] mount for level",t),Ts(),()=>{console.log("[GameCore] unmount for level",t),Se.current&&clearInterval(Se.current),V.current&&clearTimeout(V.current),Nr.current&&clearTimeout(Nr.current)}),[t,Ts]),x.useEffect(()=>{if(h||w){Se.current&&clearInterval(Se.current),fe.current&&clearInterval(fe.current);return}return Cr.current===0&&(Cr.current=Date.now()),Se.current=window.setInterval(()=>{y(z=>z<=1?(Se.current&&clearInterval(Se.current),fe.current&&clearInterval(fe.current),Ge.playLose(),k(!0),0):z-1)},1e3),fe.current=window.setInterval(()=>{_(Math.floor((Date.now()-Cr.current)/1e3))},100),()=>{Se.current&&clearInterval(Se.current),fe.current&&clearInterval(fe.current)}},[h,w]),x.useEffect(()=>{const z=(s==null?void 0:s.pairs)||6;if(c===z&&c>0)if(console.log("[GameCore] LEVEL COMPLETED",{level:t,matchedPairs:c,moves:f,timeElapsed:g}),Se.current&&clearInterval(Se.current),V.current&&clearTimeout(V.current),fe.current&&clearInterval(fe.current),_r(),Ge.playWin(),r){const G=Math.floor((Date.now()-Cr.current)/1e3);_(G),Ce(G),P(f);const Y=localStorage.getItem(`best:${I}`);let ue=!0;if(Y)try{const F=JSON.parse(Y);(G>F.time||G===F.time&&f>=F.moves)&&(ue=!1)}catch{}if(ue){const F={time:G,moves:f,date:new Date().toISOString()};localStorage.setItem(`best:${I}`,JSON.stringify(F)),N(F)}Fy({seed:I,timeMs:G*1e3,moves:f,crewId:ae}).then(F=>{F.isPioneer&&xt(!0)}).catch(F=>{console.error("[GameCore] Failed to submit score:",F)}),Dt(10),b(!0)}else Dt(10),e()},[c,t,e,r,f,I,g]);const ep=x.useCallback(z=>{if(h||oe.current||l.length>=2)return;const G=i.find(ue=>ue.id===z);if(!G||G.isMatched||l.includes(z))return;const Y=[...l,z];if(a(Y),o(ue=>ue.map(F=>F.id===z?{...F,isFlipped:!0}:F)),Y.length===2){oe.current=!0,p(xe=>xe+1);const[ue,F]=Y,Rs=i.find(xe=>xe.id===ue),Ht=i.find(xe=>xe.id===F);Rs&&Ht&&Rs.imageIndex===Ht.imageIndex?(Ge.playMatch(),o(xe=>xe.map(H=>H.id===ue||H.id===F?{...H,isMatched:!0}:H)),d(xe=>xe+1),a([]),He(0),U([]),oe.current=!1):(He(xe=>xe+1),setTimeout(()=>{o(xe=>xe.map(H=>H.id===ue||H.id===F?{...H,isFlipped:!1}:H)),a([]),oe.current=!1},Jy))}},[i,l,h]);x.useEffect(()=>{if(ee>=4&&!h&&!w&&L.length===0){const z=i.filter(G=>!G.isMatched&&!G.isFlipped);if(z.length>=2){const G=new Map;z.forEach(Y=>{G.has(Y.imageIndex)||G.set(Y.imageIndex,[]),G.get(Y.imageIndex).push(Y.id)});for(const[,Y]of G)if(Y.length>=2){const[ue,F]=Y.slice(0,2);U([ue,F]),Nr.current&&clearTimeout(Nr.current),Nr.current=window.setTimeout(()=>{U([])},3e3);break}}}},[ee,h,w,i,L.length]);const tp=x.useCallback(z=>{const G=i.filter(H=>!H.isMatched),Y=G.length/2,ue=Math.max(1,Math.floor(Y*(z/100))),F=new Map;G.forEach(H=>{F.has(H.imageIndex)||F.set(H.imageIndex,[]),F.get(H.imageIndex).push(H.id)});const Ht=Array.from(F.entries()).filter(([,H])=>H.length===2).slice(0,ue),xe=[];Ht.forEach(([,H])=>{xe.push(...H)}),o(H=>H.map(Lt=>xe.includes(Lt.id)?{...Lt,isFlipped:!0,isMatched:!0}:Lt)),d(H=>H+Ht.length),_t(!0),_r()},[i]),Ps=x.useCallback(()=>{Ts()},[Ts]),np=x.useCallback(()=>{let z,G;if(r){const Y=new URL(window.location.href);Y.searchParams.set("seed",I),Y.searchParams.set("time",Ie.toString()),Y.searchParams.set("moves",C.toString());let ue=ae;if(ue)Y.searchParams.set("crew",ue);else{const F=crypto.randomUUID().slice(0,8);Y.searchParams.set("crew",F),zy(F),Tt(F),ue=F}G=Y.toString(),z=`Complet el reto diario en ${Ie}s con ${C} movimientos! Puedes superarme?`}else G=window.location.origin,z=`Complet el Nivel ${t} en ${Ie}s con ${C} movimientos!  Juega TwinClash y pon a prueba tu memoria.`;K({text:z,url:G}),Ns(!0)},[I,Ie,C,ae,r,t]),Rt=Tn(t),rp=(Rt==null?void 0:Rt.theme)||"nature",sp=Dc(rp),ip=(Rt==null?void 0:Rt.pairs)||6,op=sp.slice(0,ip),lp=(Rt==null?void 0:Rt.timeLimit)||60;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[r&&u.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-col gap-1",children:[u.jsxs("span",{children:["Reto: ",I]}),S&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(rn,{size:14,className:"text-yellow-500"}),"Mejor: ",S.time,"s, ",S.moves," mov"]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Reto Diario":`Nivel ${t}`}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ky,{}),u.jsx("div",{className:`text-2xl font-bold ${v<=10?"text-red-600 animate-pulse":"text-blue-600"}`,children:h?`Preview: ${Math.max(0,Math.ceil(v-(lp-zc)))}s`:`${v}s`})]})]}),r&&u.jsxs("div",{className:"flex gap-4 mb-3 text-sm font-semibold text-gray-700",children:[u.jsxs("span",{children:["Tiempo: ",g,"s"]}),u.jsxs("span",{children:["Movimientos: ",f]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:de,className:"bg-gray-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-600 transition-colors",children:[u.jsx(Ha,{size:18}),"Volver"]}),u.jsxs("button",{onClick:Ps,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[u.jsx(W0,{size:18}),"Reiniciar"]}),r&&u.jsxs("button",{onClick:()=>ye(!0),className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-yellow-600 transition-colors",children:[u.jsx(D0,{size:18}),"Top"]})]}),!r&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[u.jsx("div",{className:"text-xs text-gray-600 font-semibold mb-2 text-center",children:" Ayuda Extra (Revela Parejas)"}),u.jsx(qy,{onPowerUpUsed:tp,disabled:h||w||et}),et&&u.jsx("div",{className:"text-xs text-center text-green-600 font-semibold mt-2",children:" Ayuda usada en este nivel"}),u.jsx("button",{onClick:()=>Pt(!0),className:"w-full mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2 px-4 rounded-lg font-bold text-sm shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:" Comprar Monedas"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:i.map(z=>u.jsx(Jf,{card:{...z,isFlipped:h||z.isFlipped},image:op[z.imageIndex],onClick:ep,disabled:h||oe.current,showHint:L.includes(z.id)},z.id))})})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Game Over"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Se acab el tiempo"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsx("button",{onClick:Ps,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reintentar"})]})]})}),E&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-4",children:"Completado!"}),Nt&&u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-4",children:[u.jsx("div",{className:"text-3xl mb-2",children:""}),u.jsx("div",{className:"text-white font-bold text-lg",children:"Medalla Pionero!"}),u.jsx("div",{className:"text-yellow-100 text-sm",children:"+20 monedas por ser el primero"})]}),u.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex justify-around text-center",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Ie,"s"]}),u.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:C}),u.jsx("div",{className:"text-xs text-gray-600",children:"Movimientos"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:np,className:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors",children:[u.jsx(q0,{size:18}),"Compartir"]}),u.jsx("button",{onClick:Ps,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Reintentar"})]})]})}),R&&u.jsx(Vy,{seed:I,onClose:()=>ye(!1),onPlayNow:()=>{ye(!1),Ps()}}),ut&&u.jsx(Wf,{onClose:()=>Pt(!1)}),u.jsx(Hy,{open:we,onStay:he,onExit:W}),u.jsx(Gy,{open:oo,onClose:()=>Ns(!1),shareText:$.text,shareUrl:$.url})]})};function rw({completedWorld:t,unlockedWorld:e,coinsEarned:n,onContinue:r,isGameComplete:s=!1}){x.useEffect(()=>{_r();const l=[];for(let a=0;a<3;a++){const c=window.setTimeout(()=>{_r()},(a+1)*600);l.push(c)}return()=>l.forEach(clearTimeout)},[]);const i=["","Naturaleza","Deportes","Juegos","Animales","Espacio"],o=["","","","","",""];return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-bounce-in",children:[u.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:u.jsx(rn,{size:48,className:"text-white"})}),u.jsx("div",{className:"mt-8 mb-6",children:s?u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"JUEGO COMPLETADO!"}),u.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Eres un Maestro de la Memoria!"}),u.jsx("p",{className:"text-gray-600",children:"Has superado todos los mundos"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Mundo ",t," Completado!"]}),u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-lg border-2 border-yellow-200",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(wt,{className:"text-yellow-500",size:32}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Nuevo Mundo Desbloqueado"}),u.jsx(wt,{className:"text-yellow-500",size:32})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[u.jsx("div",{className:"text-6xl",children:o[e]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"text-3xl font-black text-transparent bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text",children:["Mundo ",e]}),u.jsx("div",{className:"text-xl font-semibold text-gray-700",children:i[e]})]})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 mb-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[u.jsx(it,{size:28}),u.jsxs("span",{className:"text-3xl font-black",children:["+",n]}),u.jsx("span",{className:"text-lg font-semibold",children:"monedas"})]})}),u.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95",children:s?"Vamos!":`Explorar Mundo ${e}`}),u.jsx("div",{className:"mt-4 flex justify-center gap-2",children:[...Array(5)].map((l,a)=>u.jsx("div",{className:`w-3 h-3 rounded-full ${a<t?"bg-yellow-400":"bg-gray-300"}`},a))})]}),u.jsx("style",{children:`
        @keyframes bounce-in {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.05);
          }
          70% {
            transform: scale(0.9);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})}const sw=[{name:"Naturaleza",icon:Ja,emoji:"",description:"Explora la belleza del mundo natural",color:{from:"from-emerald-500",to:"to-green-700",bg:"bg-gradient-to-br from-emerald-400 via-green-500 to-teal-600"},features:["6-10 parejas","60-45 segundos","55 monedas totales"]},{name:"Deportes",icon:Ka,emoji:"",description:"Pon a prueba tu memoria deportiva",color:{from:"from-yellow-500",to:"to-orange-700",bg:"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600"},features:["8-12 parejas","55-40 segundos","98 monedas totales"]},{name:"Juegos",icon:Ga,emoji:"",description:"El paraso de los gamers te espera",color:{from:"from-purple-500",to:"to-pink-700",bg:"bg-gradient-to-br from-purple-400 via-pink-500 to-rose-600"},features:["10-14 parejas","50-35 segundos","137 monedas totales"]},{name:"Animales",icon:Ya,emoji:"",description:"Descubre el reino animal",color:{from:"from-orange-500",to:"to-red-700",bg:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600"},features:["12-16 parejas","45-30 segundos","190 monedas totales"]},{name:"Espacio",icon:Xa,emoji:"",description:"Viaja ms all de las estrellas",color:{from:"from-indigo-500",to:"to-blue-700",bg:"bg-gradient-to-br from-indigo-400 via-blue-500 to-cyan-600"},features:["14-18 parejas","40-25 segundos","260 monedas totales"]}];function iw({world:t,onStart:e}){const[n,r]=x.useState(!1),s=sw[t-1],i=s.icon;return x.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),u.jsxs("div",{className:`fixed inset-0 ${s.color.bg} flex items-center justify-center p-6 z-50`,children:[u.jsxs("div",{className:`max-w-lg w-full transition-all duration-700 ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-block relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"relative text-9xl animate-bounce-slow",children:s.emoji})]}),u.jsxs("div",{className:"mb-4 flex justify-center gap-2",children:[u.jsx(wt,{className:"text-yellow-300 animate-pulse",size:24}),u.jsxs("h1",{className:"text-5xl font-black text-white drop-shadow-2xl",children:["Mundo ",t]}),u.jsx(wt,{className:"text-yellow-300 animate-pulse",size:24})]}),u.jsx("h2",{className:"text-3xl font-bold text-white/90 mb-3 drop-shadow-lg",children:s.name}),u.jsx("p",{className:"text-xl text-white/80 font-medium",children:s.description})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-2xl mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(i,{className:`bg-gradient-to-br ${s.color.from} ${s.color.to} text-white p-2 rounded-xl`,size:40}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Caractersticas"})]}),u.jsx("div",{className:"space-y-3",children:s.features.map((o,l)=>u.jsxs("div",{className:"flex items-center gap-3 text-gray-700 text-lg",style:{animationDelay:`${l*100}ms`},children:[u.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-br ${s.color.from} ${s.color.to}`}),u.jsx("span",{className:"font-semibold",children:o})]},l))})]}),u.jsx("button",{onClick:e,className:"w-full bg-white text-gray-800 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:scale-105 active:scale-95 transition-all hover:shadow-3xl",children:"COMENZAR! "}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-white/70 text-sm font-medium",children:"5 niveles de diversin te esperan"})})]}),u.jsx("style",{children:`
        @keyframes bounce-slow {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }

        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})}const ow=({initialLevel:t,onBackToMenu:e})=>{var b;const[n,r]=x.useState(t),[s,i]=x.useState(null),[o,l]=x.useState(!1),[a,c]=x.useState(null),[d,h]=x.useState(null),[m,v]=x.useState(!1),[y,w]=x.useState(1),k=x.useRef(!1),f=x.useRef(((b=Tn(t))==null?void 0:b.world)||1),p=x.useCallback(async()=>{if(k.current){console.log("[GameShell] onLevelCompleted: already completed, skipping");return}k.current=!0;const S=Tn(n);if(!S)return;const N=jy(n),I=Ey(n);if(await Sy(N,I,3),Dt(S.unlockReward),S.level===5){const R=S.world+1;R<=10?h({completedWorld:S.world,unlockedWorld:R,coinsEarned:S.unlockReward,isGameComplete:!1}):h({completedWorld:S.world,unlockedWorld:S.world,coinsEarned:S.unlockReward,isGameComplete:!0})}else{const R=n+1;i(R),c("level"),l(!0)}},[n]);x.useEffect(()=>{console.log("[GameShell] LEVEL_CHANGED",n),k.current=!1;const S=Tn(n);S&&S.world!==f.current&&S.level===1&&(w(S.world),v(!0),f.current=S.world),Ge.stopStartMusic(),S&&Ge.playLevelMusic(S.world)},[n]);const g=x.useCallback(()=>{console.log("[GameShell] handleNextLevel",{level:n,nextLevel:s}),s!=null&&(r(s),i(null),l(!1),c(null))},[s,n]),_=x.useCallback(()=>{h(null);const S=n+1,N=Tn(S);N&&(w(N.world),v(!0),f.current=N.world),r(S)},[n]),E=x.useCallback(()=>{v(!1)},[]);return console.log("[GameShell] Render",{level:n,nextLevel:s,showBanner:o,bannerType:a}),u.jsxs(u.Fragment,{children:[m?u.jsx(iw,{world:y,onStart:E}):u.jsx("section",{children:u.jsx(Zf,{level:n,onComplete:p,onBackToMenu:e})},`level-${n}`),d&&u.jsx(rw,{completedWorld:d.completedWorld,unlockedWorld:d.unlockedWorld,coinsEarned:d.coinsEarned,isGameComplete:d.isGameComplete,onContinue:_}),o&&s!=null&&!d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsx("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl pointer-events-auto",children:a==="level"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:["Nivel ",n," Completado!"]}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Pulsa para continuar."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Salir"}),u.jsxs("button",{onClick:g,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent mb-2",children:"Has completado todas las fases!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Quieres volver a empezar?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 bg-gray-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Men"}),u.jsxs("button",{onClick:g,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:["Nivel ",s]})]})]})})})]})},lw=({roomId:t,onClose:e})=>{const[n,r]=x.useState(!1),s=()=>{const m=`${window.location.origin}${window.location.pathname}`,v=new URL(m);return v.searchParams.set("mode","duel"),v.searchParams.set("room",t),v.toString()},i=m=>` Te reto en Twin Clash!
 Sala: ${t}
 Puedes ganarme?
${m}`,o=s(),l=i(o),a=async()=>{try{await navigator.clipboard.writeText(l),r(!0),setTimeout(()=>r(!1),1200)}catch{prompt("Copia el enlace y comprtelo:",l)!==null&&(r(!0),setTimeout(()=>r(!1),1200))}},c=async()=>{if(navigator.share)try{await navigator.share({title:"Twin Clash",text:l,url:o});return}catch(m){console.log("Share cancelled or failed",m)}a()},d=`https://wa.me/?text=${encodeURIComponent(l)}`,h=`https://t.me/share/url?url=${encodeURIComponent(o)}&text=${encodeURIComponent(" Te reto en Twin Clash!")}`;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",style:{fontFamily:"system-ui"},children:u.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h2",{className:"text-2xl font-bold m-0",children:" Duelo creado!"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Cerrar",children:u.jsx(bs,{size:20})})]}),u.jsxs("p",{className:"opacity-90 mb-4 text-sm",children:["Sala: ",u.jsx("span",{className:"font-mono font-bold text-blue-400",children:t})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:[u.jsx(of,{size:16}),n?" Copiado":"Copiar enlace"]}),u.jsx("a",{href:d,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold no-underline",children:" WhatsApp"}),u.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold no-underline",children:" Telegram"}),u.jsx("button",{onClick:c,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:" Compartir"})]}),u.jsx("div",{className:"mt-4 opacity-80 text-sm bg-gray-800 rounded-lg p-3",children:" Enva este enlace a tu rival. Al abrirlo, entrar directamente a tu sala."})]})})},aw=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Fc=t=>{const e=(t-1)*6;return aw.slice(e,e+6)};class uw{constructor(e){this.channel=null,this.roomId=e}join(e){this.onEventCallback=e,this.channel=qe.channel(`room:${this.roomId}`,{config:{broadcast:{self:!0}}}),this.channel.on("broadcast",{event:"duel-event"},n=>{this.onEventCallback&&n.payload&&this.onEventCallback(n.payload)}).subscribe(n=>{console.log("[DuelRoom] Subscribe status:",n)})}emit(e){if(!this.channel){console.error("[DuelRoom] Channel not initialized");return}this.channel.send({type:"broadcast",event:"duel-event",payload:e})}leave(){this.channel&&(qe.removeChannel(this.channel),this.channel=null)}}const Wo=60,Vo=6,Bc=3,cw=({onBackToMenu:t})=>{const[e]=x.useState(()=>{const K=new URLSearchParams(window.location.search).get("room");if(K)return K;const W=Math.random().toString(36).substring(2,8),we=new URL(window.location.href);return we.searchParams.set("mode","duel"),we.searchParams.set("room",W),window.history.replaceState({},"",we.toString()),W}),[n,r]=x.useState("lobby"),[s,i]=x.useState(""),[o,l]=x.useState([]),[a,c]=x.useState([]),[d,h]=x.useState(new Set),[m,v]=x.useState(0),[y,w]=x.useState(0),[k,f]=x.useState(Wo),[p,g]=x.useState(3),[_,E]=x.useState(Bc),[b,S]=x.useState(!1),[N,I]=x.useState(null),[R,ye]=x.useState(!1),[Nt,xt]=x.useState(!1),ae=wn(),Tt=x.useRef(null),Ie=x.useRef(!1),Ce=x.useRef(null),C=x.useRef(null),P=x.useRef(null),L=x.useRef(new Set([ae])),U=x.useRef(!1),ee=x.useCallback($=>{const W=Fc(1).slice(0,Vo).flatMap((he,oe)=>[{id:oe*2,imageIndex:oe,isFlipped:!1,isMatched:!1},{id:oe*2+1,imageIndex:oe,isFlipped:!1,isMatched:!1}]),we=Yf($),de=[...W];for(let he=de.length-1;he>0;he--){const oe=Math.floor(we()*(he+1));[de[he],de[oe]]=[de[oe],de[he]]}return de},[]),He=x.useCallback(()=>{Ce.current&&(clearInterval(Ce.current),Ce.current=null),C.current&&(clearInterval(C.current),C.current=null),P.current&&(clearInterval(P.current),P.current=null)},[]);x.useEffect(()=>{const $=new URLSearchParams(window.location.search);$.get("room")||($.set("room",e),window.history.replaceState({},"",`?${$.toString()}`));const K=new uw(e);return Tt.current=K,K.join(W=>{if(console.log("[DuelScene] Event:",W),W.type==="join"&&W.clientId!==ae&&(L.current.add(W.clientId),S(!0)),W.type==="start"){U.current=!1,i(W.seed),r("countdown");const we=ee(W.seed);l(we),v(0),w(0)}if(W.type==="pair"){const{clientId:we,pairIndexA:de,pairIndexB:he}=W,oe=o.find(V=>V.id===de),Se=o.find(V=>V.id===he);if(oe&&Se&&oe.imageIndex===Se.imageIndex)if(h(V=>new Set(V).add(oe.imageIndex)),l(V=>V.map(fe=>fe.id===de||fe.id===he?{...fe,isMatched:!0}:fe)),we===ae){const V=m+1;v(V),Dt(5)}else{const V=y+1;w(V),V>=Vo&&_t(we,m,V)}}if(W.type==="end"){if(U.current)return;U.current=!0,He(),r("ended"),ye(!0),W.winnerClientId===ae?(I("me"),Dt(20),_r()):W.scoreA===W.scoreB?I("tie"):I("opponent")}W.type==="exit"&&(He(),alert(" El oponente abandon la partida"),t())}),K.emit({type:"join",clientId:ae}),()=>{K.leave(),Ce.current&&clearInterval(Ce.current),C.current&&clearInterval(C.current)}},[e,ae,ee,o]),x.useEffect(()=>(n==="countdown"&&(g(3),C.current=window.setInterval(()=>{g($=>$<=1?(C.current&&clearInterval(C.current),r("preview"),0):$-1)},1e3)),n==="preview"&&(E(Bc),l($=>$.map(K=>({...K,isFlipped:!0}))),P.current=window.setInterval(()=>{E($=>$<=1?(P.current&&clearInterval(P.current),l(K=>K.map(W=>({...W,isFlipped:!1}))),r("playing"),0):$-1)},1e3)),()=>{C.current&&clearInterval(C.current),P.current&&clearInterval(P.current)}),[n]),x.useEffect(()=>(n==="playing"&&(f(Wo),Ce.current=window.setInterval(()=>{f($=>{if($<=1){Ce.current&&clearInterval(Ce.current);const K=m>y?ae:m<y?"opponent":"tie";return _t(K,m,y),0}return $-1})},1e3)),()=>{Ce.current&&clearInterval(Ce.current)}),[n,m,y,ae]);const et=()=>{var K;if(!b){alert("Esperando a que se una un oponente...");return}const $=`duel-${Date.now()}`;(K=Tt.current)==null||K.emit({type:"start",seed:$,duration:Wo})},_t=($,K,W)=>{var we;U.current||(U.current=!0,He(),r("ended"),ye(!0),(we=Tt.current)==null||we.emit({type:"end",winnerClientId:$,scoreA:K,scoreB:W}),$===ae?(I("me"),Dt(20),_r()):I(K===W?"tie":"opponent"))},ut=x.useCallback($=>{var we;if(n!=="playing"||n==="preview"||U.current||Ie.current||a.length>=2)return;const K=o.find(de=>de.id===$);if(!K||K.isMatched||a.includes($))return;const W=[...a,$];if(c(W),l(de=>de.map(he=>he.id===$?{...he,isFlipped:!0}:he)),W.length===2){Ie.current=!0;const[de,he]=W,oe=o.find(V=>V.id===de),Se=o.find(V=>V.id===he);if(oe&&Se&&oe.imageIndex===Se.imageIndex&&!d.has(oe.imageIndex)){(we=Tt.current)==null||we.emit({type:"pair",clientId:ae,pairIndexA:de,pairIndexB:he});const V=m+1;V>=Vo&&_t(ae,V,y),c([]),Ie.current=!1}else setTimeout(()=>{l(V=>V.map(fe=>fe.id===de||fe.id===he?{...fe,isFlipped:!1}:fe)),c([]),Ie.current=!1},600)}},[o,a,n,d,ae]),Pt=()=>{xt(!0)},oo=()=>{var $;if(n==="playing"||n==="preview"||n==="countdown"){if(!confirm("Seguro que quieres salir de la partida?"))return;He(),($=Tt.current)==null||$.emit({type:"exit",clientId:ae})}t()},Ns=Fc(1);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-pink-500 to-purple-600 flex flex-col p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Duelo 1v1"}),u.jsxs("button",{onClick:oo,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[u.jsx(Ha,{size:16}),n==="playing"||n==="preview"||n==="countdown"?"Salir":"Volver"]})]}),n==="lobby"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Ml,{size:16,className:b?"text-green-500":"text-gray-400"}),u.jsx("span",{className:b?"text-green-600 font-semibold":"text-gray-600",children:b?"Oponente conectado!":"Esperando oponente..."})]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Sala: ",e]}),u.jsx("button",{onClick:Pt,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all mb-2",children:" Invitar Rival"}),u.jsx("button",{onClick:et,disabled:!b,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:"Iniciar Duelo"})]}),(n==="playing"||n==="countdown"||n==="preview")&&u.jsxs("div",{className:"flex items-center justify-around text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m}),u.jsx("div",{className:"text-xs text-gray-600",children:"T"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sf,{size:20,className:n==="preview"?"text-blue-500":"text-red-500"}),u.jsx("div",{className:`text-2xl font-bold ${n==="preview"?"text-blue-600":k<=10?"text-red-600 animate-pulse":"text-gray-800"}`,children:n==="preview"?`${_}s`:`${k}s`})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y}),u.jsx("div",{className:"text-xs text-gray-600",children:"Rival"})]})]}),n==="preview"&&u.jsx("div",{className:"mt-2 text-center",children:u.jsx("div",{className:"text-sm font-semibold text-blue-600",children:" Memoriza las cartas"})})]}),n==="lobby"&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(Ml,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg",children:"Comparte el enlace de la sala con tu oponente"})]})}),n==="countdown"&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"text-9xl font-bold text-white animate-pulse",children:p})}),(n==="preview"||n==="playing")&&u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg",children:u.jsx("div",{className:"grid grid-cols-4 gap-3",children:o.map($=>u.jsx(Jf,{card:$,image:Ns[$.imageIndex],onClick:ut,disabled:n==="preview"||Ie.current},$.id))})})}),R&&n==="ended"&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:N==="me"?"":N==="tie"?"":""}),u.jsx("h3",{className:`text-3xl font-bold mb-2 ${N==="me"?"text-green-600":N==="tie"?"text-yellow-600":"text-gray-600"}`,children:N==="me"?"Has Ganado!":N==="tie"?"Empate!":"Has Perdido"}),N==="me"&&u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Increble! +20 monedas"}),N==="opponent"&&u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sigue intentndolo!"}),u.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:u.jsxs("div",{className:"flex justify-around",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m}),u.jsx("div",{className:"text-xs text-gray-600",children:"T"})]}),u.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y}),u.jsx("div",{className:"text-xs text-gray-600",children:"Rival"})]})]})}),u.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Volver al Men"})]})}),Nt&&u.jsx(lw,{roomId:e,onClose:()=>xt(!1)})]})},dw=[Ja,Ka,Ga,Ya,Xa,df,uf,af,wt,lf],Wc=["Naturaleza","Deportes","Juegos","Animales","Espacio","Ocano","Comida","Msica","Belleza","Tecnologa"],hw=[{from:"from-emerald-500",to:"to-green-700"},{from:"from-yellow-500",to:"to-orange-700"},{from:"from-purple-500",to:"to-pink-700"},{from:"from-orange-500",to:"to-red-700"},{from:"from-indigo-500",to:"to-blue-700"},{from:"from-cyan-500",to:"to-teal-700"},{from:"from-red-500",to:"to-pink-700"},{from:"from-violet-500",to:"to-purple-700"},{from:"from-fuchsia-500",to:"to-pink-700"},{from:"from-slate-500",to:"to-gray-700"}];function fw({currentWorld:t,currentLevel:e,worldsCompleted:n,onSelectWorld:r,onBackToMenu:s}){const[i,o]=x.useState({1:!0}),[l,a]=x.useState({}),[c,d]=x.useState(0),[h,m]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{(async()=>{for(let p=1;p<=10;p++)Vf(`world-${p}`,5),p>1&&_y(`world-${p}`).then(g=>{o(_=>({..._,[p]:g}))}),Hf(`world-${p}`).then(g=>{a(_=>({..._,[p]:g}))});d(Re())})()},[]);const w=async f=>{if(f===1||i[f]){r(f);return}m(f)},k=async()=>{if(!h)return;y(!0);const f=`world-${h}`,p=Mi[f],g=await Kf(f,p);g.ok?(o({...i,[h]:!0}),d(Re()),m(null),r(h)):alert(g.reason),y(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-700 p-6",children:[u.jsx("button",{onClick:s,className:"mb-6 text-white flex items-center gap-2 font-semibold text-lg hover:scale-105 transition-transform",children:" Volver"}),u.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-3",children:"Elige tu Mundo"}),u.jsx("p",{className:"text-white/80 text-center mb-10 text-lg",children:"10 Mundos  50 Niveles  Aventura pica"}),u.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(f=>{const p=i[f]??!1,g=dw[f-1],_=hw[f-1],E=t===f,b=l[f]??!1;return u.jsxs("button",{onClick:()=>w(f),className:`relative p-6 rounded-3xl shadow-2xl transition-all transform ${p?`bg-gradient-to-br ${_.from} ${_.to} hover:scale-105 active:scale-95`:"bg-gray-700 opacity-60"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:u.jsx(g,{size:32})}),u.jsxs("div",{className:"text-left",children:[u.jsxs("h3",{className:"text-2xl font-bold",children:["Mundo ",f]}),u.jsx("p",{className:"text-sm opacity-90",children:Wc[f-1]})]})]}),u.jsx("div",{className:"flex flex-col items-center gap-1",children:b?u.jsxs(u.Fragment,{children:[u.jsx(rn,{className:"text-yellow-300",size:28}),u.jsx("span",{className:"text-xs bg-yellow-300/20 px-2 py-0.5 rounded-full",children:"Completado"})]}):p?null:u.jsx(Qa,{size:28})})]}),E&&!b&&u.jsxs("div",{className:"mt-3 text-sm bg-white/20 rounded-lg px-3 py-1.5 inline-block backdrop-blur-sm",children:[" Nivel actual: ",e," / 5"]})]},f)})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Mundo ",h]}),u.jsx("p",{className:"text-gray-600 mb-4",children:Wc[h-1]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Al desbloquear este mundo, podrs jugar el nivel 1. Los dems niveles se desbloquean jugando."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(it,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:Mi[`world-${h}`]})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",c," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>m(null),disabled:v,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:k,disabled:v,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:v?"Desbloqueando...":"Desbloquear"})]})]})})]})}function pw({world:t,currentLevel:e,onSelectLevel:n,onBack:r}){var k;const s=ew(t),i=tw((k=s[0])==null?void 0:k.theme),[o,l]=x.useState({}),[a,c]=x.useState(null),[d,h]=x.useState(0),[m,v]=x.useState(!1);x.useEffect(()=>{(async()=>{const p=`world-${t}`;await Vf(p,5);const g=await by(p),_={};g.levels.forEach((E,b)=>{_[b+1]=E.unlocked}),_[1]=!0,l(_),h(Re())})()},[t]);const y=async f=>{const p=Bo(t,f);if(f===1||o[f]){n(p);return}if(f===5&&!o[4]){alert("Para jugar el nivel 5, primero debes completar el nivel 4 o comprarlo");return}c(f)},w=async()=>{if(!a)return;v(!0);const f=`world-${t}`,p=await ky(f,a,$c);if(p.ok){l({...o,[a]:!0}),h(Re());const g=Bo(t,a);c(null),n(g)}else alert(p.reason);v(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 p-6",children:[u.jsx("button",{onClick:r,className:"text-white mb-6 font-semibold text-lg flex items-center gap-2 hover:scale-105 transition-transform",children:" Mundos"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Mundo ",t]}),u.jsx("p",{className:"text-white/90 text-xl",children:i})]}),u.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-lg mx-auto mb-8",children:s.map(f=>{const p=o[f.level]??!1,_=Bo(t,f.level)===e;return u.jsx("button",{onClick:()=>y(f.level),className:`relative w-16 h-16 rounded-2xl font-bold text-xl transition-all shadow-lg ${p?_?"bg-yellow-400 scale-110 shadow-xl text-yellow-900":"bg-white hover:scale-105 text-purple-700":"bg-gray-700 opacity-50 text-gray-400"}`,children:p?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:f.level}),_&&u.jsx(H0,{className:"absolute -top-2 -right-2 text-yellow-600 fill-yellow-400",size:20}),f.level===5&&u.jsx(rn,{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-orange-500",size:16})]}):u.jsx(Qa,{className:"absolute inset-0 m-auto text-gray-500",size:20})},f.level)})}),u.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 max-w-lg mx-auto text-white",children:[u.jsx("h3",{className:"font-bold text-xl mb-3",children:" Informacin del Mundo"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[" Tiempo: ",s[0].timeLimit,"s - ",s[4].timeLimit,"s"]}),u.jsxs("p",{children:[" Parejas: ",s[0].pairs," - ",s[4].pairs]}),u.jsxs("p",{children:[" Recompensa total: ",s.reduce((f,p)=>f+p.unlockReward,0)," monedas"]}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completa niveles para desbloquear el siguiente"}),u.jsx("p",{className:"text-yellow-300 font-semibold",children:" Completar nivel 5 desbloquea el siguiente mundo"})]})]}),a&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Desbloquear Nivel ",a]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Saltars el requisito de completar el nivel anterior. Solo este nivel ser desbloqueado."}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(it,{size:24,className:"text-white"}),u.jsx("span",{className:"text-2xl font-bold text-white",children:$c})]}),u.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["Tienes: ",d," monedas"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>c(null),disabled:m,className:"flex-1 bg-gray-500 text-white py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:w,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:m?"Desbloqueando...":"Desbloquear"})]})]})})]})}function mw(){const[t,e]=x.useState(()=>new URLSearchParams(window.location.search).get("mode")==="duel"?"duel":"menu"),[n,r]=x.useState(1),[s,i]=x.useState(1),o=()=>{e("daily")},l=()=>{e("duel")},a=()=>{e("menu")};return u.jsxs(u.Fragment,{children:[t==="menu"&&u.jsx(My,{onStartGame:()=>e("worldmap"),onStartDailyChallenge:o,onStartDuel:l}),t==="worldmap"&&u.jsx(fw,{currentWorld:1,currentLevel:1,worldsCompleted:0,onSelectWorld:c=>{i(c),e("levelselect")},onBackToMenu:()=>{e("menu")}}),t==="levelselect"&&u.jsx(pw,{world:s,currentLevel:1,onSelectLevel:c=>{r(c),e("game")},onBack:()=>e("worldmap")}),t==="game"&&u.jsx(ow,{initialLevel:n,onBackToMenu:a},n),t==="daily"&&u.jsx(Zf,{level:1,isDailyChallenge:!0,onComplete:a,onBackToMenu:a},"daily"),t==="duel"&&u.jsx(cw,{onBackToMenu:a})]})}nf(document.getElementById("root")).render(u.jsx(x.StrictMode,{children:u.jsx(mw,{})}));
